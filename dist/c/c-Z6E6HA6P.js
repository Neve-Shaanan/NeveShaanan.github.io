import{a as h,b as Tt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-QEHHZFGW.js";import{a as $,b as Y,e as q,f as G,g as Dt,i as E,j as _t}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-DBQBLIVJ.js";import{a as J,b as Ct}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-GSXX7AT5.js";import{g as K,h as W,k as xt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-3EWCZI4V.js";import{a as U,p as St}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-XL4GEQ5L.js";import{e as R,o as j,q as C,w as vt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-HHUNNV5E.js";import{a as D,b as Pt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-5WTFJCT4.js";import{a as T,b as ft}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-A4BLOG47.js";import{c as H,o as bt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-72MKFQGT.js";import{c as z,d as wt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UDEESYNX.js";import{a as N,b as yt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-IDNXBTON.js";import{b,c as gt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UGELT6OI.js";import{f as F,g as y,o as k}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-55VYORUF.js";import{b as _}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UB3G6XPO.js";import{a as v,f as u}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UGUCNLQ2.js";var X,Z,Q,tt=v(()=>{"use strict";_();k();X={Desktop:[1024,672],"iPhone SE":[320,568],"iPhone 14 & 15 Pro Max":[430,932],"iPhone 14 & 15 Pro":[393,852],"iPhone 13 & 14":[390,844],"iPhone SE horizontal":[568,320],Tablet:[768,926]},Z={default:"Desktop",phone_portrait:"iPhone SE",tablet_portrait:"Tablet"},Q={Desktop:"default","iPhone SE":"phone_portrait","iPhone 14 & 15 Pro Max":"phone_portrait","iPhone 14 & 15 Pro":"phone_portrait","iPhone 13 & 14":"phone_portrait","iPhone SE horizontal":"tablet_portrait",Tablet:"tablet_portrait"}});var re,Et=v(()=>{"use strict";yt();re=async(e,t,i)=>N.get(`/api/viewer/project/${e}/widgets`,{pageId:t},{priority:"high",signal:i})});function Rt({viewportTopAndHeight:e,workspaceHeight:t}){let i=e.top<0?Math.abs(e.top):0,r=0;if(e.height<t)if(e.height-i+e.top<t)r=e.height-i;else{let o=e.top+e.height-t;r=e.height-i-o}else e.top<0?r=t:r=t-e.top;return r=r>0?r:0,r}function ct(e,t,i=1,r){let o=t.x*i,n=t.y*i,s=t.w*i,a=t.h*i,c={left:o,top:n,width:s,height:a};return e&&(e!=="c"&&(e.indexOf("s")!==-1&&(c.top=r.height-n-a),e.indexOf("e")!==-1&&(c.left=r.width-o-s)),["n","c","s"].indexOf(e)!==-1&&(c.left=r.width/2-s/2+o),["w","c","e"].indexOf(e)!==-1&&(c.top=r.height/2-a/2+n),c.bottom=c.top+c.height,c.right=c.left+c.width),c}var rt,et,Bt,ot,At,Ot,A,O,I,st,M,It,Mt,Lt,Vt,it,L,Ft,kt,Nt,nt,zt,B,le,jt=v(()=>{"use strict";Tt();k();Pt();tt();rt=(e,t,i)=>{let r=i&&Q[i]===t?i:Z[t],[o,n]=X[r];return h.cover({width:e,height:1/0},{width:o,height:n})},et=e=>y[e].height||y[e].min_height,Bt=e=>y[e].width,ot=(e,t)=>t==="phone_portrait"?e.phoneWidth||y.phone_portrait.width:t==="tablet_portrait"?y.tablet_portrait.width:e.desktopWidth||y.default.width,At=(e,t)=>{if(!e)return et(t);let i=t!=="default"?`viewport_${t}`:void 0;return i&&e[i]?.height?e[i]?.height:e.height?e.height:et(t)},Ot=(e,t,i)=>({width:ot(e,i),height:At(t,i)}),A=(e,{windowSize:t,viewport:i="default",zoom:r=1,device:o})=>{let n=h.mapFromViewportToDocument(t,1,r,{scrollLeft:0,scrollTop:0}),s=O(e.width,{viewport:i,windowSize:t,device:o}),a=h.center(i==="phone_portrait"&&r>=1?s:e,n),c=i==="phone_portrait"?Math.max(h.center(s,t).top,0)/r:0;return{...e,left:Math.max(a.left,0),top:Math.max(a.top,c)}},O=(e,{windowSize:t,viewport:i,device:r})=>{let o=r||F[i];return i!=="default"?rt(e,i,o):t},I=(e,{viewport:t="default",windowSize:i,device:r,zoom:o=1})=>{let n=O(e.width,{windowSize:i,device:r,viewport:t});if(t==="default")return{left:0,top:0,width:n.width,height:n.height};{let s=n.width*o,a=Math.min(o<1?e.height*o:n.height,i.height);return h.center({width:s,height:a},i)}},st=(e,t="default")=>{let i=h.center({width:Bt(t),height:e.height},e);return h.relativeToAbsolute(i,e)},M=(e,t="default")=>{let i=t!=="default"?`viewport_${t}`:void 0,r=(o={},n)=>({w:o.w??n.w,h:o.h??n.h,x:o.x??n.x,y:o.y??n.y,fixed_position:o.sticked?void 0:o.fixed_position??n.fixed_position});return r(i?e[i]:e,e)},It=(e=[])=>{let t=e[0],{x:i,y:r,w:o,h:n}=t||{};return e.reduce((s,a)=>{let c=Math.min(s.x,a.x),d=Math.min(s.y,a.y);return s.w=Math.max(s.x+s.w,a.x+a.w)-c,s.h=Math.max(s.y+s.h,a.y+a.h)-d,s.x=c,s.y=d,s},{x:i,y:r,w:o,h:n})},Mt=(e,t)=>{let i=["nw","n","ne"].includes(t),r=["w","c","e"].includes(t),o=["nw","w","sw"].includes(t),n=["n","c","s"].includes(t);return{left:o?e.left:n?e.left+e.width/2:e.left+e.width,top:i?e.top:r?e.top+e.height/2:e.top+e.height}},Lt=(e,t,i={})=>{let{viewport:r}=t,o=e.map(n=>({...M(n,r),...i}));return L(o,t)},Vt=(e,t,i)=>{let{workspaceSize:r,viewport:o="default",windowSize:n,device:s,zoom:a=1}=i,c=I(r,{viewport:o,windowSize:n,device:s,zoom:a}),{width:d,height:p,left:l,top:m}=ct(t,e,a,c);return h.relativeToAbsolute({width:d,height:p,left:l,top:m},c)},it=(e,t)=>{let{workspaceSize:i,viewport:r,windowSize:o,device:n,zoom:s=1,scroller:a}=t,c=A(i,{viewport:r,windowSize:o,device:n,zoom:s}),d={width:e.w,height:e.h,left:e.x,top:e.y},p=st(c,r),l=h.relativeToAbsolute(d,p);return h.mapFromDocumentToViewport(l,1,s,a)},L=(e,t)=>{if(e.reduce((r,o)=>r!==o.fixed_position?"mixed":r,e[0]?.fixed_position)){let r=e.map(c=>c.fixed_position?Vt(c,c.fixed_position,t):it(c,t)),{left:o,top:n,width:s,height:a}=D.getBoundingBoxOfBoxes(r);return{left:o,top:n,width:s,height:a}}else{let r=e.length===1?e[0]:It(e);return it(r,t)}},Ft=(e,t)=>{let i=e.map(a=>{let{left:c,top:d,width:p,height:l}=L([a],t),m=a.angle??0,g=a.fixed_position,f=Math.cos(m*Math.PI/180),P=Math.sin(m*Math.PI/180);return D.calcBoundingBox({left:c,top:d,width:p,height:l,cosAngle:f,sinAngle:P},g,!0)}),{left:r,top:o,width:n,height:s}=D.getBoundingBoxOfBoxes(i);return{left:r,top:o,width:n,height:s}},kt=(e,t,{workspaceSize:i,windowSize:r,viewport:o="default",zoom:n=1,scroller:s={scrollLeft:0,scrollTop:0},device:a})=>{if(t){let c=I(i,{viewport:o,windowSize:r,device:a,zoom:n}),d=["nw","n","ne"].includes(t),p=["w","c","e"].includes(t),l=["nw","w","sw"].includes(t),m=["n","c","s"].includes(t),g=["ne","e","se"].includes(t),f=["sw","s","se"].includes(t),P={left:l?e.left:m?e.left+e.width/2:e.left+e.width,top:d?e.top:p?e.top+e.height/2:e.top+e.height},w={left:l?c.left:m?c.left+c.width/2:c.left+c.width,top:d?c.top:p?c.top+c.height/2:c.top+c.height},S=h.absoluteToRelative(P,w),dt=g?S.left*-1:S.left,pt=f?S.top*-1:S.top,{left:lt,top:ut,width:ht,height:mt}=h.mapFromViewportToDocument({left:dt,top:pt,width:e.width,height:e.height},1,n,{scrollLeft:0,scrollTop:0});return{fixed_position:t,x:lt,y:ut,w:ht,h:mt}}else{let c=A(i,{viewport:o,windowSize:r,device:a,zoom:n}),d=h.mapFromViewportToDocument(e,1,n,s),p=st(c,o),{left:l,top:m,width:g,height:f}=h.absoluteToRelative(d,p);return{x:l,y:m,w:g,h:f}}},Nt=(e,{workspaceSize:t,windowSize:i,viewport:r="default",zoom:o=1,device:n})=>{let s=M(e,r),a=s.fixed_position;if(a){let c=["nw","n","ne"].includes(a),d=["w","c","e"].includes(a),p=["nw","w","sw"].includes(a),l=["n","c","s"].includes(a),m=["ne","e","se"].includes(a),g=["sw","s","se"].includes(a),f=B.mapDeviceToWindow(t,{viewport:r,windowSize:i,device:n,zoom:o}),P=B.getFixedOrigin(f,a),w=h.invertPosition(P,i);return{position:"fixed",left:p||l?P.left+s.x+"px":"",top:c||d?P.top+s.y+"px":"",right:m?w.right+s.x+"px":"",bottom:g?w.bottom+s.y+"px":"","margin-left":l?-s.w/2+"px":"","margin-top":d?-s.h/2+"px":""}}else return{position:"absolute",left:e.x+"px",top:e.y+"px"}},nt=({boxCoordinates:e,workspacePosition:t,windowSize:i,viewportType:r,scroller:o,zoom:n})=>{let s={x:e.x,y:e.y};if(!e.fixed_position)return{...s};if(r==="default"){let a=i.width/n,c=i.height/n,d=t.left,p=t.left+a/2-e.w/2,l=t.left+a-e.w,m=t.top,g=t.top+c/2-e.h/2,f=t.top+c-e.h;["nw","w","sw"].includes(e.fixed_position)?s.x=s.x+d:["n","c","s"].includes(e.fixed_position)?s.x=s.x+p:["ne","e","se"].includes(e.fixed_position)&&(s.x=l-s.x),["nw","n","ne"].includes(e.fixed_position)?s.y+=m:["e","c","w"].includes(e.fixed_position)?s.y+=g:["sw","s","se"].includes(e.fixed_position)&&(s.y=f-s.y)}else if(["phone_portrait","tablet_portrait"].includes(r)){let a=o.scrollLeft/n,c=o.scrollTop/n,d=i.width/n,p=i.height/n,l=a,m=t.left+d/2-e.w/2,g=t.left*2+d-e.w,f=c,P=t.top+p/2-e.h/2,w=t.top*2+p-e.h;["nw","w","sw"].includes(e.fixed_position)?s.x=s.x+l:["n","c","s"].includes(e.fixed_position)?s.x=s.x+m:["ne","e","se"].includes(e.fixed_position)&&(s.x=g-s.x-a),["nw","n","ne"].includes(e.fixed_position)?s.y=s.y+f:["e","c","w"].includes(e.fixed_position)?s.y+=P:["sw","s","se"].includes(e.fixed_position)&&(s.y=w-s.y-c)}return{...s}},zt=({boxCoordinates:e,workspaceBox:t,windowSize:i,viewportType:r,scroller:o,zoom:n})=>{let s={x:e.x,y:e.y},a=(t.width-y[r].width)/2;return s=nt({workspacePosition:{left:t.left,top:t.top},boxCoordinates:e,scroller:o,windowSize:i,viewportType:r,zoom:n}),s.x=s.x-a,{...s}};B={fitToDevice:rt,fixedToWorkspace:nt,fixedToOrigin:zt,mapDeviceToWindow:I,getPageWidth:ot,getWorkspaceSize:Ot,getDeviceSize:O,getCoordinateBox:M,getFixedOrigin:Mt,getHeightOfVisiblePartOfWorkspace:Rt,mapWorkspaceToDocument:A,mapWidgetToWindow:Lt,coordinatesToClientBox:L,coordinatesToClientBoundingBox:Ft,mapWidgetToWorkspace:kt,mapWidgetToCss:Nt,getFixedPositionBox:ct},le=B});var x,at=v(()=>{"use strict";$();gt();Dt();x=class{constructor(t){u(this,"numId");u(this,"libraryAdded",!1);u(this,"stripeAccount","");this.numId=t}async disconnect(t){return await q(t,"stripe")}async loadProducts(t,i){return(await G(t,!!i)).data||[]}mapProductsToSelectOptions(t,i){let r=t.filter(o=>o.active&&(o.articles?.length||o.prices?.length)||i&&i===o.id).map(o=>({value:o.id,caption:o.name}));return r.unshift({value:"default",caption:"None"}),r}isProductActive(t){return t.active&&(this.productHasActiveOptions(t)||this.productHasActivePrice(t))}productHasActiveOptions(t){return Array.isArray(t.articles)&&!!t.articles?.some(i=>i.active)}productHasActivePrice(t){return Array.isArray(t.prices)&&!!t.prices?.some(i=>i.active)}isProductAvailable(t,i){if(t.prices?.length)return this.productHasActivePrice(t);if(t.articles?.length)if(i){let r=t.articles?.find(o=>o.id===i);return r?this.isSkuAvailable(r):!1}else return!!t.articles?.some(r=>this.isSkuAvailable(r));return!1}isSkuAvailable(t){return t.active?t.inventory.type==="infinite"||!!(t.inventory.type==="finite"&&t.inventory.quantity)||t.inventory.type==="bucket"&&(t.inventory.value==="in_stock"||t.inventory.value==="limited"):!1}getProductForAddToCart(t,i){if(!t)return null;let r=this.getActivePrice(t);if(r){let n={...t,articles:null,prices:null};return{...r,productObject:n}}let o=i?this.getSkuBySelectsValues(t,i):null;if(o){let n={...t,articles:null,prices:null};return{...o,productObject:n}}return null}getActivePrice(t){if(Array.isArray(t.prices)&&t.prices.length){let i;return t.default_price&&(i=t.prices.find(r=>r.active&&r.billing_scheme==="per_unit"&&r.id===t.default_price)),i||(i=t.prices.find(r=>r.active&&r.billing_scheme==="per_unit")),i}return null}getSkuBySelectsValues(t,i){return!t||!Array.isArray(t.articles)||t.articles.length===0?null:t.articles.length===1?t.articles[0]:t.articles.find(r=>JSON.stringify(r.attributes)===JSON.stringify(i))}initFrontendLibrary(t){if(!this.libraryAdded&&t?.stripe?.stripe_data.stripe_user_id){let i=document.createElement("script");i.setAttribute("async","async"),i.setAttribute("src","https://js.stripe.com/v3/"),document?.body?.appendChild(i),this.libraryAdded=!0,this.stripeAccount=t.stripe.stripe_data.stripe_user_id}}getFormattedProductToAddToCart(t,i){if(i&&Object.keys(i).length)return null;let r={...t},o=this.getActivePrice(r);return!o||!o.unit_amount?null:{id:o.id,name:r.name,image:r.images?.[0],price:Number((o.unit_amount/100).toFixed(2)),currency:o.currency,type:o.type}}createCheckoutSession(t,i){let r=[],o=!1;Object.keys(t).forEach(c=>{r.push({price:t[c].id,quantity:t[c].cartQuantity}),t[c].type==="recurring"&&(o=!0)});let n=window?.location.href.split("?")[0],s=o?"subscription":"payment",a={line_items:r,success_url:`${n}?checkout_status=success&mode=${s}&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${n}?checkout_status=cancel`,payment_method_types:["card"],mode:s,...i||{}};return o&&(a.shipping_options||a.shipping_address_collection)&&(delete a.shipping_options,delete a.shipping_address_collection),Y(this.numId,a)}goToCheckout({items:t,options:i}){let r=b.stripe_live?b.STRIPE_LIVE_PUBLIC_KEY:b.STRIPE_TEST_PUBLIC_KEY,o=Stripe(r||"",{stripeAccount:this.stripeAccount});this.createCheckoutSession(t,i).then(({data:n})=>{o.redirectToCheckout({sessionId:n.id})}).catch(n=>{console.error("Error:",n)})}}});var Ht,$t,V,Yt=v(()=>{"use strict";wt();at();_t();xt();$();St();_();Ht=["stripe","ecwid"],$t={out_of_stock:"Out of stock"},V=class{constructor({numId:t,ecommerceData:i,cartWidgetData:r,isDownloadedSource:o,isPublished:n,isScreenshoter:s,onDataChange:a}){u(this,"isDownloadedSource");u(this,"isPublished");u(this,"isScreenshoter");u(this,"userLocale","en");u(this,"numId",0);u(this,"ecommerceData");u(this,"cartWidgetData");u(this,"provider");u(this,"products",[]);u(this,"productsState","initial");u(this,"isCartWidgetExist",!1);u(this,"adapter");u(this,"onDataChange");this.numId=t,this.isDownloadedSource=o,this.isPublished=n,this.isScreenshoter=s,this.ecommerceData=i,r&&(this.cartWidgetData=r,this.isCartWidgetExist=!0),a&&typeof a=="function"&&(this.onDataChange=a);let c=window.navigator.language;if(c&&(this.userLocale=c.substring(0,2)),this.ecommerceData){let d=this.getConnectedProvider();if(d){this.provider=d,this.connectEcommerceAdapter(),this.loadProducts();let p=localStorage.getItem(W(this.numId));p&&p!==this.provider&&localStorage.removeItem(K(this.numId)),localStorage.setItem(W(this.numId),this.provider)}}}setOnDataChangeCallback(t){this.onDataChange||(this.onDataChange=t)}triggerDataChanges(t){this.onDataChange&&this.onDataChange(t)}setCartWidgetExistState(t){this.isCartWidgetExist=t}getConnectedProvider(){if(this.provider)return this.provider;if(!this.ecommerceData)return null;let t=this.getProviderFrom(this.ecommerceData);return this.provider=t,t}getProviderFrom(t){return Ht.find(r=>t[r]&&t[r].status==="connected")}canBeConnectedTo(t){let i=this.getConnectedProvider();return!(i&&t!==i)}async updateEcommerceDataFromServer(){let t=await U(this.numId);if(t?.ecommerce_data)return this.updateEcommerceData(t.ecommerce_data),t.ecommerce_data}async updateEcommerceData(t){this.ecommerceData=t;let i=this.getProviderFrom(t);this.provider!==i&&(this.provider=i,this.connectEcommerceAdapter(),this.triggerDataChanges({provider:i}),await this.loadProducts())}getTextValue(t){let i=this.ecommerceData?.texts?.[t];return i?z.sanitize(i):$t[t]}setTextValue(t,i){this.ecommerceData?.texts&&(this.ecommerceData.texts[t]=i)}async disconnect(){if(!this.provider||!this.adapter)throw new Error("Ecommerce provider is not defined");let t=await this.adapter.disconnect(this.numId),i={...this.ecommerceData};return t&&this.ecommerceData&&(i={...i,[this.provider]:t},this.updateEcommerceData(i)),i}connectEcommerceAdapter(){switch(this.provider){case"stripe":this.adapter=new x(this.numId);break;case"ecwid":this.adapter=new E(this.numId);break;default:this.adapter=void 0}}async loadProducts(){if(!this.provider||!this.adapter){this.products=[],this.triggerDataChanges({products:[]});return}if(this.isDownloadedSource&&this.provider&&this.ecommerceData){let i=this.ecommerceData?.[this.provider];if(i?.products){this.products=i.products,this.productsState="loaded";return}}this.productsState="loading";let t=[];try{t=await this.adapter.loadProducts(this.numId,this.isPublished,this.isScreenshoter),this.productsState="loaded"}catch(i){console.error("Load ecommerce products",i),this.productsState="error"}this.products=t,this.triggerDataChanges({products:t})}getProductById(t){return this.products?.find(i=>i.id===t)}getProductSelectOptions(t){return this.adapter?this.adapter.mapProductsToSelectOptions(this.products,t):[]}isProductActive(t){let i=this.getProductById(t);if(i)return this.adapter?this.adapter.isProductActive(i):!1}getInvalidAddToCartWidgets(t){let i=t.filter(o=>o.type==="addtocart"&&!o.hidden);if(!i.length)return[];let r=this.products?this.products.map(o=>o.id):[];return i.filter(o=>!o.selected_product_id||!r.includes(o.selected_product_id))}productHasActiveOptions(t){return this.adapter?this.adapter.productHasActiveOptions(t):!1}isProductAvailable(t,i){return!!this.adapter?.isProductAvailable(t,i)}getProductForAddToCart(t,i){return this.adapter?this.adapter.getProductForAddToCart(t,i):null}initFrontendLibrary(){this.adapter&&this.adapter.initFrontendLibrary(this.ecommerceData)}getFormattedProductToAddToCart(t,i){return this.adapter?this.adapter.getFormattedProductToAddToCart(t,i):null}goToCheckout(t,i,r,o){if(this.adapter)if(this.adapter instanceof E)this.adapter.goToCheckout({items:t,callbacks:{onOpen:i,onPlaced:async()=>{await this.loadProducts(),typeof r=="function"&&r()},onClose:o}});else if(this.adapter instanceof x){let n={allow_promotion_codes:!1};this.cartWidgetData&&(n.allow_promotion_codes=!!this.cartWidgetData["stripe-allow_promotion_codes"],this.cartWidgetData["stripe-allowed_countries"]?.length&&(n.shipping_address_collection={allowed_countries:this.cartWidgetData["stripe-allowed_countries"].map(s=>s.value)}),this.cartWidgetData["stripe-shipping_rates"]?.length&&(n.shipping_options=this.cartWidgetData["stripe-shipping_rates"].map(s=>({shipping_rate:s})))),this.adapter.goToCheckout({items:t,options:n})}else this.adapter.goToCheckout({items:t,callbacks:{onOpen:i,onPlaced:r}})}}});function qt({widget:e,width:t,height:i}){let r=J.getLambdaUrl(e.picture,{width:t,height:i,cropH:e.cropH,cropW:e.cropW,cropX:e.cropX,cropY:e.cropY}),o=e.element.querySelector("img");return{previewImgSrc:o&&(o.currentSrc||o.src)||r,imgSrc:r}}function Fe(e){let t=[];for(let o of e)if(Gt(o))if(o.lightbox)t.push({...o,element:o.$el.get(0)});else{let n=Jt(o.preview_enabled,o.preview_overlay_color);t.push({...o,...n,element:o.$el.get(0)})}if(!t.length)return[];let i=[],r=H(t);for(let o of r){let n=o.h/o.w,s=window.innerHeight,a=window.innerWidth,c=s/n,d=c*n;c>a&&(c=a,d=c*n);let{imgSrc:p,previewImgSrc:l}=qt({widget:o,width:c,height:d});i.push({_id:o._id,color:o.lightbox?.color||"",gallery:o.lightbox?.gallery||!1,height:d,width:c,imgSrc:p,previewImgSrc:l})}return i}function ke(e){let t=T.isOn(e.viewport,e.viewportWidth,e.viewerOptions)&&T.isCSSZoom()?T.getRatio(e.viewportWidth):1,{top:i,left:r,height:o,width:n}=e.widgetElement.getBoundingClientRect(),s={top:i,left:r,height:o,width:n};if(Modernizr.safari){let c=window.scrollY;s.top=s.top+(c-c/t)}return{top:Number(s.top+s.height*.5)*t,left:Number(s.left+s.width*.5)*t,height:s.height*t,width:s.width*t}}function Jt(e,t){if(typeof e<"u"||typeof t<"u"){let i=t?R(C(t))||"":"000000",r=i&&t&&C(t).a||.6;return{preview_enabled:void 0,preview_overlay_color:void 0,lightbox:{enabled:e,color:j(i,r*100)}}}}var Gt,Xt=v(()=>{"use strict";_();ft();Ct();vt();bt();Gt=e=>e.type==="picture"});export{Z as a,Q as b,tt as c,zt as d,le as e,jt as f,V as g,Yt as h,re as i,Et as j,Fe as k,ke as l,Jt as m,Xt as n};

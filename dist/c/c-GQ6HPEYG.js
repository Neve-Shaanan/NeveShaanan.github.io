import{b as Cr,f as Rr,g as $i}from"https://st-p.rmcdn.net/62e91e4d/dist/c/c-TOGNNCZT.js";import{a as Ki}from"https://st-p.rmcdn.net/62e91e4d/dist/c/c-VMBI6QWR.js";import{a as h,b as Pr,d as Or}from"https://st-p.rmcdn.net/62e91e4d/dist/c/c-57DIUWTR.js";var Dr,kr=h(()=>{"use strict";(function(t){t[t.Registration=11192105]="Registration",t[t.FirstPurchase=11192113]="FirstPurchase",t[t.BookDemo=11192121]="BookDemo"})(Dr||(Dr={}))});var Ur=Pr((Ar,jr)=>{"use strict";(function(t){var e;if(typeof define=="function"&&define.amd&&(define(t),e=!0),typeof Ar=="object"&&(jr.exports=t(),e=!0),!e){var r=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=r,n}}})(function(){function t(){for(var n=0,o={};n<arguments.length;n++){var i=arguments[n];for(var s in i)o[s]=i[s]}return o}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function o(){}function i(c,u,a){if(!(typeof document>"u")){a=t({path:"/"},o.defaults,a),typeof a.expires=="number"&&(a.expires=new Date(new Date*1+a.expires*864e5)),a.expires=a.expires?a.expires.toUTCString():"";try{var f=JSON.stringify(u);/^[\{\[]/.test(f)&&(u=f)}catch{}u=n.write?n.write(u,c):encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var d="";for(var l in a)a[l]&&(d+="; "+l,a[l]!==!0&&(d+="="+a[l].split(";")[0]));return document.cookie=c+"="+u+d}}function s(c,u){if(!(typeof document>"u")){for(var a={},f=document.cookie?document.cookie.split("; "):[],d=0;d<f.length;d++){var l=f[d].split("="),p=l.slice(1).join("=");!u&&p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var v=e(l[0]);if(p=(n.read||n)(p,v)||e(p),u)try{p=JSON.parse(p)}catch{}if(a[v]=p,c===v)break}catch{}}return c?a[c]:a}}return o.set=i,o.get=function(c){return s(c,!1)},o.getJSON=function(c){return s(c,!0)},o.remove=function(c,u){i(c,"",t(u,{expires:-1}))},o.defaults={},o.withConverter=r,o}return r(function(){})})});var V,Pe=h(()=>{"use strict";V=()=>typeof window<"u"});async function Et({partnerId:t}){if(!(!V()||Lr()||!t))return new Promise((e,r)=>{window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(t);let n=document.getElementsByTagName("script")[0],o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",o.onload=()=>e(),o.onerror=()=>r(),n?.parentNode?.insertBefore(o,n);let i=document.createElement("img");i.alt="",i.height=1,i.width=1,i.src=`https://px.ads.linkedin.com/collect/?pid=${t}&fmt=gif`})}async function Mr({partnerId:t,eventId:e}){!V()||!e||(!Lr()&&t&&await Et({partnerId:t}),window?.lintrk?.("track",{conversion_id:e}))}var Lr,Nr=h(()=>{"use strict";Pe();Lr=()=>!!window?.lintrk});var Fr,Vr=h(()=>{"use strict";(function(t){t.Registration="iGBtCP76u9QDEIu60MsD",t.FirstPurchase="IAUrCIivjtYDEIu60MsD",t.FirstPurchasePersonal="7fmQCNLswYAYEIu60MsD",t.FirstPurchaseFreelancer="REXDCIHywYAYEIu60MsD",t.FirstPurchaseStudio="86PxCICIw4AYEIu60MsD",t.FirstPurchaseBusiness="o7gMCOKNw4AYEIu60MsD"})(Fr||(Fr={}))});var St,Ce,Oe,me,Yi,Hi,Qi,Xi,zi,Zi,Ji,eo,to,xt=h(()=>{"use strict";St=Or(Ur());Nr();Pe();Vr();kr();Ce=()=>{if(V())return!!window.gtag},Oe="",me="",Yi=({GA_ID:t,GA4_ID:e,GOOGLE_ADS_ID:r,userId:n,userEmail:o})=>{let i=document.createElement("script");i.async=!0,i.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(i);let s=document.createElement("script");s.text=`
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    ${e?`gtag('config', '${e}', { send_page_view: false, user_id: '${n||""}' });`:""}
    gtag('js', new Date());
    gtag('set', {
      'send_page_view': false,
      'custom_map': {
        'dimension2': 'userId',
        'dimension9': 'userId',
        'dimension13': 'clientId'
      }
    })
    ${n?`gtag('config', '${t}', { 'userId': '${n}'});`:`gtag('config', '${t}');`}
    ${r?`gtag('config', '${r}', { "allow_enhanced_conversions": true });`:""}
    ${r&&o?`gtag('set', 'user_data', { "email": "${o}" });`:""}
  `,document.head.appendChild(s)},Hi=({userId:t,ignoreIsGAInitialized:e=!1,GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userEmail:i})=>{if(!(!V()||Ce()&&!e))return Oe=n||"",Yi({GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userId:t,userEmail:i}),{GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userId:t}},Qi=()=>{let t=St.default.get("shortlink_redirect");if(!t)return{};let e=JSON.parse(atob(t));return St.default.remove("shortlink_redirect"),{campaignName:e.utm_campaign,campaignSource:e.utm_source,campaignMedium:e.utm_medium}},Xi=({campaignName:t,campaignSource:e,campaignMedium:r}={})=>{if(!V()||!Ce())return null;let n={...Qi(),campaignName:t,campaignSource:e,campaignMedium:r},o=(i,s)=>{let c={campaign:{name:i.campaignName,source:i.campaignSource,medium:i.campaignMedium},c_id:s||""};window.gtag("event","page_view",c)};return Oe?me?o(n,me):window.gtag("get",Oe,"client_id",i=>{me=i,o(n,i)}):o(n),n},zi=(t,e={})=>{if(!V()||!Ce())return null;let r=n=>{let o={c_id:n||"",event_label:e.eventLabel,value:e.eventValue};for(let i in e)["eventLabel","eventValue"].includes(i)||(o[i]=e[i]);window.gtag("event",t,o)};return Oe?me?r(me):window.gtag("get",Oe,"client_id",n=>{typeof n=="string"&&(me=n,r(me))}):r(""),{action:t,...e}},Zi=({actionName:t,eventLabel:e,eventCategory:r})=>!V()||!Ce()?null:(window.gtag("event",t,{event_category:r,event_label:e}),{actionName:t,eventCategory:r,eventLabel:e}),Ji=({CONVERSION_ID:t,CONVERSION_LABEL:e,value:r,transaction_id:n="",...o})=>{if(!V()||!Ce())return null;let i={};return r&&(i={value:r,transaction_id:n,currency:"USD"}),i={send_to:`${t}/${e}`,...i,...o},window.gtag("event","conversion",i),{...o,CONVERSION_ID:t,CONVERSION_LABEL:e}},eo=({location:t,role:e,withAnalytics:r=!0})=>!t||!V()?Promise.resolve():fetch(`/api/me/visit/${t}/${e||""}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({withAnalytics:r})}),to={init:Hi,sendEvent:zi,sendConversionEvent:Ji,sendPromoActionEvent:Zi,trackPage:Xi,trackDailyVisit:eo,initLinkedInInsights:Et,sendEventToLinkedInInsights:Mr}});var qr,Br,Gr,Wr=h(()=>{"use strict";(function(t){t.Create="create",t.PageView="pageview",t.ProfileSettings="profileSettings",t.ProfileClick="profileClick",t.ProfileSettingsUsage="profileSettingsUsage",t.ProfileBanner="profileBanner"})(qr||(qr={}));(function(t){t.Publish="publish",t.Preview="preview",t.WidgetAdd="widgetAdd",t.WidgetTotal="widgetTotal",t.WidgetFeature="widgetFeature",t.WidgetMisc="widgetMisc",t.OpenProject="openProject",t.ViewportFeature="viewportFeature",t.SettingsProject="settingsProject",t.SettingsViewer="settingsViewer",t.SettingsGeneral="settingsGeneral",t.Template="template",t.MyTemplates="myTemplates",t.HelpTour="helpTour",t.HelpTourProgress="helpTourProgress",t.HelpTourLeave="helpTourLeave",t.EditorTips="editorTips",t.EditorTips2="editorTips2",t.EditorHelp="editorHelp",t.EditorActions="editorActions",t.ContentEditMode="contentEditMode",t.Zendesk="zendesk",t.BlocksMode="blocksMode",t.CommentsMode="commentsMode",t.CommentAdd="commentAdd",t.Popup="popup",t.SettingsLayers="settingsLayers",t.ActionsMade="actionsMade",t.AnimationAddStep="animationAddStep",t.AnimationAddTrigger="animationAddTrigger",t.AnimationLoad="animationLoad",t.AnimationSettings="animationSettings",t.AnimationPresetSelected="animationPresetSelected",t.SettingsPreviewViewer="settingsPreviewViewer",t.PresetAdd="presetAdd",t.PresetClick="presetClick",t.PresetMisc="presetMisc",t.PresetSave="presetSave",t.WidgetArrange="widgetArrange",t.WhatsNewPopup="whatsNewPopup",t.GroupEdit="groupEdit",t.ExamplesSubmit="examplesSubmit",t.WidgetLottie="widgetLottie",t.WidgetVideoUpload="widgetVideoUpload",t.WidgetVideoState="widgetVideoState"})(Br||(Br={}));(function(t){t.UpgradeBanner="upgradeBanner"})(Gr||(Gr={}))});function Kr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function A(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{a(n.next(f))}catch(d){s(d)}}function u(f){try{a(n.throw(f))}catch(d){s(d)}}function a(f){f.done?i(f.value):o(f.value).then(c,u)}a((n=n.apply(t,e||[])).next())})}function j(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(f){return u([a,f])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ne(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Re(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var I,ie=h(()=>{"use strict";I=function(){return I=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},I.apply(this,arguments)}});var $r,Yr,Hr,Qr,Xr,zr,Zr,Tt=h(()=>{"use strict";$r="Event tracked successfully",Yr="Unexpected error occurred",Hr="Event rejected due to exceeded retry count",Qr="Event skipped due to optOut config",Xr="Event rejected due to missing API key",zr="Invalid API key",Zr="Client not initialized"});var U,ae,le,Jr=h(()=>{"use strict";(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(U||(U={}));(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(ae||(ae={}));(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(le||(le={}))});var q,en=h(()=>{"use strict";(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(q||(q={}))});var P,tn=h(()=>{"use strict";(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(P||(P={}))});var It,rn=h(()=>{"use strict";It=null});var Y=h(()=>{"use strict";Jr();en();tn();rn()});var se,Be=h(()=>{"use strict";Y();se=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=P.Unknown),{event:t,code:e,message:r}}});var Q,Ge=h(()=>{"use strict";Q=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Q)}});var nn,on=h(()=>{"use strict";ie();Be();Ge();nn=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){var n,o,i;return A(this,void 0,void 0,function(){return j(this,function(s){switch(s.label){case 0:return e.name=(n=e.name)!==null&&n!==void 0?n:Q(),e.type=(o=e.type)!==null&&o!==void 0?o:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,r,this.client)];case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var r;return A(this,void 0,void 0,function(){var n,o;return j(this,function(i){switch(i.label){case 0:return n=this.plugins.findIndex(function(s){return s.name===e}),o=this.plugins[n],this.plugins.splice(n,1),[4,(r=o.teardown)===null||r===void 0?void 0:r.call(o)];case 1:return i.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var o;return(o=n.teardown)===null||o===void 0?void 0:o.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return A(this,void 0,void 0,function(){var r,n,o,i,s,c,u,p,v,a,f,d,l,p,v,m,g,y,S,b,C,M;return j(this,function(x){switch(x.label){case 0:if(!e)return[2];r=oe(e,1),n=r[0],o=oe(e,2),i=o[1],s=this.plugins.filter(function(T){return T.type==="before"}),x.label=1;case 1:x.trys.push([1,6,7,8]),c=ne(s),u=c.next(),x.label=2;case 2:return u.done?[3,5]:(p=u.value,p.execute?[4,p.execute(I({},n))]:[3,4]);case 3:if(v=x.sent(),v===null)return i({event:n,code:0,message:""}),[2];n=v,x.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return a=x.sent(),S={error:a},[3,8];case 7:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(S)throw S.error}return[7];case 8:f=this.plugins.filter(function(T){return T.type==="enrichment"||T.type===void 0}),x.label=9;case 9:x.trys.push([9,14,15,16]),d=ne(f),l=d.next(),x.label=10;case 10:return l.done?[3,13]:(p=l.value,p.execute?[4,p.execute(I({},n))]:[3,12]);case 11:if(v=x.sent(),v===null)return i({event:n,code:0,message:""}),[2];n=v,x.label=12;case 12:return l=d.next(),[3,10];case 13:return[3,16];case 14:return m=x.sent(),C={error:m},[3,16];case 15:try{l&&!l.done&&(M=d.return)&&M.call(d)}finally{if(C)throw C.error}return[7];case 16:return g=this.plugins.filter(function(T){return T.type==="destination"}),y=g.map(function(T){var O=I({},n);return T.execute(O).catch(function(N){return se(O,0,String(N))})}),Promise.all(y).then(function(T){var O=oe(T,1),N=O[0],J=N||se(n,100,"Event not tracked, no destination plugins on the instance");i(J)}),[2]}})})},t.prototype.flush=function(){return A(this,void 0,void 0,function(){var e,r,n,o=this;return j(this,function(i){switch(i.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return o.apply(s)}))];case 1:return i.sent(),r=this.plugins.filter(function(s){return s.type==="destination"}),n=r.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(n)];case 2:return i.sent(),[2]}})})},t}()});var Pt,_e,Ot,Ct,an,sn,un,De=h(()=>{"use strict";Pt="-",_e="AMP",Ot="".concat(_e,"_unsent"),Ct="https://api2.amplitude.com/2/httpapi",an="https://api.eu.amplitude.com/2/httpapi",sn="https://api2.amplitude.com/batch",un="https://api.eu.amplitude.com/batch"});var ro,We,Rt,Dt=h(()=>{"use strict";ie();ro=1e3,We=function(t){if(Object.keys(t).length>ro)return!1;for(var e in t){var r=t[e];if(!Rt(e,r))return!1}return!0},Rt=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var o=!0;try{for(var i=ne(e),s=i.next();!s.done;s=i.next()){var c=s.value;if(Array.isArray(c))return!1;if(typeof c=="object")o=o&&We(c);else if(!["number","string"].includes(typeof c))return!1;if(!o)return!1}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return We(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0}});var ee,kt=h(()=>{"use strict";ie();Y();De();Dt();ee=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return I({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(U.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(U.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(U.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(U.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(U.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(U.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(U.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(U.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(U.UNSET,e,Pt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[U.CLEAR_ALL]=Pt,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var o=this._properties[e];return o===void 0&&(o={},this._properties[e]=o),o[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[U.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===U.ADD?typeof n=="number":e!==U.UNSET&&e!==U.REMOVE?Rt(r,n):!0},t}()});var cn,ke,fn,ln,dn,At=h(()=>{"use strict";ie();Y();kt();cn=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return I(I(I({},n),r),e&&{event_properties:e})},ke=function(t,e){var r=I(I({},e),{event_type:le.IDENTIFY,user_properties:t.getUserProperties()});return r},fn=function(t,e,r,n){var o,i=I(I({},n),{event_type:le.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(o={},o[t]=e,o)});return i},ln=function(t,e,r){var n,o=new ee;o.set(t,e);var i=I(I({},r),{event_type:le.IDENTIFY,user_properties:o.getUserProperties(),groups:(n={},n[t]=e,n)});return i},dn=function(t,e){return I(I({},e),{event_type:le.REVENUE,event_properties:t.getEventProperties()})}});var B,jt=h(()=>{"use strict";B=function(t){return{promise:t||Promise.resolve()}}});var Ut,pn=h(()=>{"use strict";ie();Tt();on();At();Be();jt();Ut=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new nn(this),this.name=e}return t.prototype._init=function(e){return A(this,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},t.prototype.runQueuedFunctions=function(e){return A(this,void 0,void 0,function(){var r,n,o,i,s,c,u,a;return j(this,function(f){switch(f.label){case 0:r=this[e],this[e]=[],f.label=1;case 1:f.trys.push([1,8,9,10]),n=ne(r),o=n.next(),f.label=2;case 2:return o.done?[3,7]:(i=o.value,s=i(),s&&"promise"in s?[4,s.promise]:[3,4]);case 3:return f.sent(),[3,6];case 4:return[4,s];case 5:f.sent(),f.label=6;case 6:return o=n.next(),[3,2];case 7:return[3,10];case 8:return c=f.sent(),u={error:c},[3,10];case 9:try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:f.sent(),f.label=12;case 12:return[2]}})})},t.prototype.track=function(e,r,n){var o=cn(e,r,n);return B(this.dispatch(o))},t.prototype.identify=function(e,r){var n=ke(e,r);return B(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,o){var i=fn(e,r,n,o);return B(this.dispatch(i))},t.prototype.setGroup=function(e,r,n){var o=ln(e,r,n);return B(this.dispatch(o))},t.prototype.revenue=function(e,r){var n=dn(e,r);return B(this.dispatch(n))},t.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),B())},t.prototype._addPlugin=function(e){return B(this.timeline.register(e,this.config))},t.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),B())},t.prototype._removePlugin=function(e){return B(this.timeline.deregister(e))},t.prototype.dispatchWithCallback=function(e,r){if(!this.isReady)return r(se(e,0,Zr));this.process(e).then(r)},t.prototype.dispatch=function(e){return A(this,void 0,void 0,function(){var r=this;return j(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(o){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,o))})]})})},t.prototype.process=function(e){return A(this,void 0,void 0,function(){var o,r,n,o;return j(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.config.optOut?[2,se(e,0,Qr)]:[4,this.timeline.push(e)];case 1:return o=i.sent(),o.code===200?this.config.loggerProvider.log(o.message):o.code===100?this.config.loggerProvider.warn(o.message):this.config.loggerProvider.error(o.message),[2,o];case 2:return r=i.sent(),n=String(r),this.config.loggerProvider.error(n),o=se(e,0,n),[2,o];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},t.prototype._setOptOut=function(e){this.config.optOut=!!e},t.prototype.flush=function(){return B(this.timeline.flush())},t}()});var Ke,vn=h(()=>{"use strict";ie();Y();Dt();Ke=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return We(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?I({},this.properties):{};return e[ae.REVENUE_PRODUCT_ID]=this.productId,e[ae.REVENUE_QUANTITY]=this.quantity,e[ae.REVENUE_PRICE]=this.price,e[ae.REVENUE_TYPE]=this.revenueType,e[ae.REVENUE]=this.revenue,e},t}()});var hn,gn=h(()=>{"use strict";hn=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,o,i){var s=Math.floor(i/r);return n[s]||(n[s]=[]),n[s].push(o),n},[])}});var $e,Ae,Lt=h(()=>{"use strict";Y();$e="Amplitude Logger ",Ae=function(){function t(){this.logLevel=q.None}return t.prototype.disable=function(){this.logLevel=q.None},t.prototype.enable=function(e){e===void 0&&(e=q.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<q.Verbose||console.log("".concat($e,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<q.Warn||console.warn("".concat($e,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<q.Error||console.error("".concat($e,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<q.Debug||console.log("".concat($e,"[Debug]: ").concat(e.join(" ")))},t}()});var Ye,Mt,no,Nt,Ft=h(()=>{"use strict";Y();De();Lt();Ye=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:q.Warn,loggerProvider:new Ae,offline:!1,optOut:!1,serverUrl:Ct,serverZone:"US",useBatch:!1}},Mt=function(){function t(e){var r,n,o,i;this._optOut=!1;var s=Ye();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(o=e.optOut)!==null&&o!==void 0?o:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(i=e.useBatch)!==null&&i!==void 0?i:s.useBatch,this.loggerProvider.enable(this.logLevel);var c=Nt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}(),no=function(t,e){return t==="EU"?e?un:an:e?sn:Ct},Nt=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=Ye().serverZone),r===void 0&&(r=Ye().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:Ye().serverZone;return{serverZone:n,serverUrl:no(n,r)}}});function io(t){return t instanceof Error?t.message:String(t)}function He(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var Vt,yn=h(()=>{"use strict";ie();Y();Tt();De();gn();Be();Ft();Ge();Vt=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var r;return A(this,void 0,void 0,function(){var n,o=this;return j(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(Ot,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=i.sent(),n&&n.length>0&&Promise.all(n.map(function(s){return o.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return e.insert_id||(e.insert_id=Q()),new Promise(function(n){var o={event:e,attempts:0,callback:function(i){return n(i)},timeout:0};r.addToQueue(o)})},t.prototype.getTryableList=function(e){var r=this;return e.filter(function(n){return n.attempts<r.config.flushMaxRetries?(n.attempts+=1,!0):(r.fulfillRequest([n],500,Hr),!1)})},t.prototype.scheduleTryable=function(e,r){var n=this;r===void 0&&(r=!1),e.forEach(function(o){if(r&&(n.queue=n.queue.concat(o)),o.timeout===0){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,n.schedule(0)},o.timeout)})},t.prototype.addToQueue=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.getTryableList(e);this.scheduleTryable(n,!0),this.saveEvents()},t.prototype.schedule=function(e){var r=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),A(this,void 0,void 0,function(){var r,n,o,i=this;return j(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(r=[],n=[],this.queue.forEach(function(c){return c.timeout===0?r.push(c):n.push(c)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),o=hn(r,this.config.flushQueueSize),[4,Promise.all(o.map(function(c){return i.send(c,e)}))]);case 1:return s.sent(),this.scheduleTryable(n),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),A(this,void 0,void 0,function(){var n,o,i,s,c;return j(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,Xr)];n={api_key:this.config.apiKey,events:e.map(function(a){var f=a.event,d=f.extra,l=Kr(f,["extra"]);return l}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},u.label=1;case 1:return u.trys.push([1,3,,4]),o=Nt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(o,n)];case 2:return i=u.sent(),i===null?(this.fulfillRequest(e,0,Yr),[2]):r?(this.handleResponse(i,e),[3,4]):("body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(He(i))):this.fulfillRequest(e,i.statusCode,i.status),[2]);case 3:return s=u.sent(),c=io(s),this.config.loggerProvider.error(c),this.handleResponse({status:P.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case P.Success:{this.handleSuccessResponse(e,r);break}case P.Invalid:{this.handleInvalidResponse(e,r);break}case P.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case P.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,$r)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(zr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var o=Re(Re(Re(Re([],oe(Object.values(e.body.eventsWithInvalidFields)),!1),oe(Object.values(e.body.eventsWithMissingFields)),!1),oe(Object.values(e.body.eventsWithInvalidIdLengths)),!1),oe(e.body.silencedEvents),!1).flat(),i=new Set(o),s=r.filter(function(u,a){if(i.has(a)){n.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(He(e));var c=this.getTryableList(s);this.scheduleTryable(c)},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(He(e)),this.config.flushQueueSize/=2;var n=this.getTryableList(r);this.scheduleTryable(n)},t.prototype.handleRateLimitResponse=function(e,r){var n=this,o=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,c=new Set(o),u=new Set(i),a=new Set(s),f=r.filter(function(l,p){if(l.event.user_id&&c.has(l.event.user_id)||l.event.device_id&&u.has(l.event.device_id)){n.fulfillRequest([l],e.statusCode,e.body.error);return}return a.has(p)&&(l.timeout=n.throttleTimeout),!0});f.length>0&&this.config.loggerProvider.warn(He(e));var d=this.getTryableList(f);this.scheduleTryable(d)},t.prototype.handleOtherResponse=function(e){var r=this,n=e.map(function(i){return i.timeout=i.attempts*r.retryTimeout,i}),o=this.getTryableList(n);this.scheduleTryable(o)},t.prototype.fulfillRequest=function(e,r,n){this.removeEvents(e),e.forEach(function(o){return o.callback(se(o.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,e)}},t.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(r){return!e.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},t}()});var oo,R,ao,D,k,mn=h(()=>{"use strict";ie();Y();oo=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(r){return r.trim()})},R=function(t){return function(){var e=I({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}},ao=function(t,e){var r,n;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var o=ne(e.split(".")),i=o.next();!i.done;i=o.next()){var s=i.value;if(s in t)t=t[s];else return}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t},D=function(t,e){return function(){var r,n,o={};try{for(var i=ne(e),s=i.next();!s.done;s=i.next()){var c=s.value;o[c]=ao(t,c)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}},k=function(t,e,r,n,o){return o===void 0&&(o=null),function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var c=r(),u=c.logger,a=c.logLevel;if(a&&a<q.Debug||!a||!u)return t.apply(o,i);var f={type:"invoke public method",name:e,args:i,stacktrace:oo(1),time:{start:new Date().toISOString()},states:{}};n&&f.states&&(f.states.before=n());var d=t.apply(o,i);return d&&d.promise?d.promise.then(function(){n&&f.states&&(f.states.after=n()),f.time&&(f.time.end=new Date().toISOString()),u.debug(JSON.stringify(f,null,2))}):(n&&f.states&&(f.states.after=n()),f.time&&(f.time.end=new Date().toISOString()),u.debug(JSON.stringify(f,null,2))),d}}});var Qe,_n=h(()=>{"use strict";ie();Qe=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return A(this,void 0,void 0,function(){return j(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return A(this,void 0,void 0,function(){return j(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return A(this,void 0,void 0,function(){var r;return j(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return A(this,void 0,void 0,function(){return j(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return A(this,void 0,void 0,function(){return j(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return A(this,void 0,void 0,function(){return j(this,function(e){return this.memoryStorage.clear(),[2]})})},t}()});var be,bn=h(()=>{"use strict";Y();be=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,o,i,s,c,u,a,f,d,l,p,v,m,g,y,S,b,C,M,x,T;if(typeof e!="object")return null;var O=e.code||0,N=this.buildStatus(O);switch(N){case P.Success:return{status:N,statusCode:O,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(o=e.server_upload_time)!==null&&o!==void 0?o:0}};case P.Invalid:return{status:N,statusCode:O,body:{error:(i=e.error)!==null&&i!==void 0?i:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(c=e.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(a=e.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(f=e.eps_threshold)!==null&&f!==void 0?f:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(l=e.silenced_devices)!==null&&l!==void 0?l:[],silencedEvents:(p=e.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(m=e.throttled_events)!==null&&m!==void 0?m:[]}};case P.PayloadTooLarge:return{status:N,statusCode:O,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case P.RateLimit:return{status:N,statusCode:O,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(S=e.eps_threshold)!==null&&S!==void 0?S:0,throttledDevices:(b=e.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(C=e.throttled_users)!==null&&C!==void 0?C:{},exceededDailyQuotaDevices:(M=e.exceeded_daily_quota_devices)!==null&&M!==void 0?M:{},exceededDailyQuotaUsers:(x=e.exceeded_daily_quota_users)!==null&&x!==void 0?x:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case P.Timeout:default:return{status:N,statusCode:O}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?P.Success:e===429?P.RateLimit:e===413?P.PayloadTooLarge:e===408?P.Timeout:e>=400&&e<500?P.Invalid:e>=500?P.Failed:P.Unknown},t}()});var X=h(()=>{"use strict";pn();kt();vn();yn();Ft();Lt();De();jt();mn();Ge();_n();bn();At()});function z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function w(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{a(n.next(f))}catch(d){s(d)}}function u(f){try{a(n.throw(f))}catch(d){s(d)}}function a(f){f.done?i(f.value):o(f.value).then(c,u)}a((n=n.apply(t,e||[])).next())})}function E(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(f){return u([a,f])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function wn(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}var qt,F,H=h(()=>{"use strict";qt=function(t,e){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},qt(t,e)};F=function(){return F=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},F.apply(this,arguments)}});function En(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Gt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function G(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{a(n.next(f))}catch(d){s(d)}}function u(f){try{a(n.throw(f))}catch(d){s(d)}}function a(f){f.done?i(f.value):o(f.value).then(c,u)}a((n=n.apply(t,e||[])).next())})}function W(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(f){return u([a,f])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Xe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}var Bt,$,de=h(()=>{"use strict";Bt=function(t,e){return Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Bt(t,e)};$=function(){return $=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$.apply(this,arguments)}});var K,ze=h(()=>{"use strict";K=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof window<"u")return window}});var pe,Sn,Wt=h(()=>{"use strict";ze();pe=function(){var t,e=K();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var r=e.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(o,i){var s=i.split("=",2),c=Sn(s[0]),u=Sn(s[1]);return u&&(o[c]=u),o},{});return n},Sn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}}});var xn,Tn,In,Pn,On,Cn,Kt,$t,Yt,Ht,Qt,Xt,zt,Zt,Jt,er,tr,ue,je=h(()=>{"use strict";xn="utm_campaign",Tn="utm_content",In="utm_id",Pn="utm_medium",On="utm_source",Cn="utm_term",Kt="dclid",$t="fbclid",Yt="gbraid",Ht="gclid",Qt="ko_click_id",Xt="li_fat_id",zt="msclkid",Zt="rtd_cid",Jt="ttclid",er="twclid",tr="wbraid",ue={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0}});var Ue,rr=h(()=>{"use strict";de();Wt();je();Ue=function(){function t(){}return t.prototype.parse=function(){return G(this,void 0,void 0,function(){return W(this,function(e){return[2,$($($($({},ue),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=pe(),r=e[xn],n=e[Tn],o=e[In],i=e[Pn],s=e[On],c=e[Cn];return{utm_campaign:r,utm_content:n,utm_id:o,utm_medium:i,utm_source:s,utm_term:c}},t.prototype.getReferrer=function(){var e,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},t.prototype.getClickIds=function(){var e,r=pe();return e={},e[Kt]=r[Kt],e[$t]=r[$t],e[Yt]=r[Yt],e[Ht]=r[Ht],e[Qt]=r[Qt],e[Xt]=r[Xt],e[zt]=r[zt],e[Zt]=r[Zt],e[Jt]=r[Jt],e[er]=r[er],e[tr]=r[tr],e},t}()});var Ze,nr,Rn=h(()=>{"use strict";X();Ze=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[_e,e,t.substring(0,r)].filter(Boolean).join("_")},nr=function(t){return"".concat(_e.toLowerCase(),"_").concat(t.substring(0,6))}});var Dn,so,kn,uo,An,jn,Un=h(()=>{"use strict";de();X();je();Dn=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},so=function(t){return Object.values(t).every(function(e){return!e})},kn=function(t,e,r,n){n===void 0&&(n=!0);var o=t.referrer,i=t.referring_domain,s=Gt(t,["referrer","referring_domain"]),c=e||{},u=c.referrer,a=c.referring_domain,f=Gt(c,["referrer","referring_domain"]);if(uo(r.excludeReferrers,t.referring_domain)||!n&&so(t)&&e)return!1;var d=JSON.stringify(s)!==JSON.stringify(f),l=Dn(i||"")!==Dn(a||"");return!e||d||l},uo=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(r){return r instanceof RegExp?r.test(e):r===e})},An=function(t,e){var r=$($({},ue),t),n=Object.entries(r).reduce(function(o,i){var s,c=Xe(i,2),u=c[0],a=c[1];return o.setOnce("initial_".concat(u),(s=a??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?o.set(u,a):o.unset(u)},new ee);return ke(n)},jn=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]}});var Ln,Mn=h(()=>{"use strict";X();Ln=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[_e,e,t.substring(0,r)].filter(Boolean).join("_")}});var Le,ir=h(()=>{"use strict";Le=function(t,e){e===void 0&&(e=Date.now());var r=Date.now(),n=r-e;return n>t}});var or,Nn=h(()=>{"use strict";de();Un();Mn();rr();je();ir();or=function(){function t(e,r){var n;this.shouldTrackNewCampaign=!1,this.options=$({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:jn((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},e),this.storage=r.cookieStorage,this.storageKey=Ln(r.apiKey,"MKTG"),this.currentCampaign=ue,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,r.loggerProvider.log("Installing web attribution tracking.")}return t.prototype.init=function(){return G(this,void 0,void 0,function(){var e,r;return W(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=Xe.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],e=this.lastEventTime?Le(this.sessionTimeout,this.lastEventTime):!0,kn(this.currentCampaign,this.previousCampaign,this.options,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.fetchCampaign=function(){return G(this,void 0,void 0,function(){return W(this,function(e){switch(e.label){case 0:return[4,Promise.all([new Ue().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},t.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var r=An(this.currentCampaign,this.options);return e&&(r.event_id=e),r},t.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},t}()});var Me,Fn=h(()=>{"use strict";de();ze();Me=function(){function t(e){this.options=$({},e)}return t.prototype.isEnabled=function(){return G(this,void 0,void 0,function(){var e,r,n,o;return W(this,function(i){switch(i.label){case 0:if(!K())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,e.set(r,t.testValue)];case 2:return i.sent(),[4,e.get(r)];case 3:return n=i.sent(),[2,n===t.testValue];case 4:return o=i.sent(),[2,!1];case 5:return[4,e.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return G(this,void 0,void 0,function(){var r;return W(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(r=n.sent(),!r)return[2,void 0];try{try{r=decodeURIComponent(atob(r))}catch{}return[2,JSON.parse(r)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var r,n;return G(this,void 0,void 0,function(){var o,i,s;return W(this,function(c){return o=K(),i=(n=(r=o?.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],s=i.find(function(u){return u.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,r){var n;return G(this,void 0,void 0,function(){var o,i,s,c,u,a;return W(this,function(f){try{o=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,i=r!==null?o:-1,s=void 0,i&&(c=new Date,c.setTime(c.getTime()+i*24*60*60*1e3),s=c),u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),s&&(u+="; expires=".concat(s.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),a=K(),a&&(a.document.cookie=u)}catch{}return[2]})})},t.prototype.remove=function(e){return G(this,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){return G(this,void 0,void 0,function(){return W(this,function(e){return[2]})})},t}()});var ar,Vn=h(()=>{"use strict";de();X();ar=function(t){En(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return G(this,void 0,void 0,function(){var o,i,s;return W(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return o={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,o)];case 1:return i=c.sent(),[4,i.text()];case 2:return s=c.sent(),[2,this.buildResponse(s?JSON.parse(s):{code:i.status})]}})})},e}(be)});var co,fo,lo,ve,Je,po,vo,ho,go,Ne,qn,Bn=h(()=>{"use strict";co=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:fo(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),fo=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},lo=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(r){e(r)}),this.queue=[])},t}(),ve=function(){return ve=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ve.apply(this,arguments)},Je=function(t,e){var r=["string","number","boolean","undefined"],n=typeof t,o=typeof e;if(n!==o)return!1;for(var i=0,s=r;i<s.length;i++){var c=s[i];if(c===n)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var u=Array.isArray(t),a=Array.isArray(e);if(u!==a)return!1;if(u&&a){for(var f=0;f<t.length;f++)if(!Je(t[f],e[f]))return!1}else{var d=Object.keys(t).sort(),l=Object.keys(e).sort();if(!Je(d,l))return!1;var p=!0;return Object.keys(t).forEach(function(v){Je(t[v],e[v])||(p=!1)}),p}return!0},po="$set",vo="$unset",ho="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});go=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,r=ve({},this.identity.userProperties),n=ve(ve({},this.identity),{userProperties:r});return{setUserId:function(o){return n.userId=o,this},setDeviceId:function(o){return n.deviceId=o,this},setUserProperties:function(o){return n.userProperties=o,this},setOptOut:function(o){return n.optOut=o,this},updateUserProperties:function(o){for(var i=n.userProperties||{},s=0,c=Object.entries(o);s<c.length;s++){var u=c[s],a=u[0],f=u[1];switch(a){case po:for(var d=0,l=Object.entries(f);d<l.length;d++){var p=l[d],v=p[0],m=p[1];i[v]=m}break;case vo:for(var g=0,y=Object.keys(f);g<y.length;g++){var v=y[g];delete i[v]}break;case ho:i={};break}}return n.userProperties=i,this},commit:function(){return e.setIdentity(n),this}}},t.prototype.getIdentity=function(){return ve({},this.identity)},t.prototype.setIdentity=function(e){var r=ve({},this.identity);this.identity=ve({},e),Je(r,this.identity)||this.listeners.forEach(function(n){n(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,qn=function(){function t(){this.identityStore=new go,this.eventBridge=new lo,this.applicationContextProvider=new co}return t.getInstance=function(e){return Ne.analyticsConnectorInstances||(Ne.analyticsConnectorInstances={}),Ne.analyticsConnectorInstances[e]||(Ne.analyticsConnectorInstances[e]=new t),Ne.analyticsConnectorInstances[e]},t}()});var he,sr,ur,cr=h(()=>{"use strict";Bn();he=function(t){return t===void 0&&(t="$default_instance"),qn.getInstance(t)},sr=function(t,e){he(e).identityStore.editIdentity().setUserId(t).commit()},ur=function(t,e){he(e).identityStore.editIdentity().setDeviceId(t).commit()}});var fr,Gn=h(()=>{"use strict";de();cr();fr=function(){function t(){this.name="identity",this.type="before",this.identityStore=he().identityStore}return t.prototype.execute=function(e){return G(this,void 0,void 0,function(){var r;return W(this,function(n){return r=e.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,e]})})},t.prototype.setup=function(e){return G(this,void 0,void 0,function(){return W(this,function(r){return e.instanceName&&(this.identityStore=he(e.instanceName).identityStore),[2]})})},t}()});var lr,Wn=h(()=>{"use strict";lr=function(){var t,e,r,n;if(typeof navigator>"u")return"";var o=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:o)!==null&&n!==void 0?n:""}});var Fe,et,dr,pr,tt,rt,vr,hr,Kn=h(()=>{"use strict";de();Fe=function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},et=function(t){return Fe(t,"attribution")},dr=function(t){return Fe(t,"fileDownloads")},pr=function(t){return Fe(t,"formInteractions")},tt=function(t){return Fe(t,"pageViews")},rt=function(t){return Fe(t,"sessions")},vr=function(t){var e=function(){return!1},r=void 0,n,o=t.pageCounter,i=tt(t.defaultTracking);return i&&(e=void 0,n=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(r=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(n=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:o}},hr=function(t){return et(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?$({},t.defaultTracking.attribution):{}}});var te=h(()=>{"use strict";rr();Nn();je();Wt();ir();Rn();Fn();Vn();cr();Gn();Wn();ze();Kn()});var nt,it,$n=h(()=>{"use strict";nt=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],o=n.name,i=n.args,s=n.resolve,c=t&&t[o];if(typeof c=="function"){var u=c.apply(t,i);typeof s=="function"&&s(u?.promise)}}return t},it=function(t){var e=t;return e&&e._q!==void 0}});var Yn,Hn=h(()=>{"use strict";Yn="2.8.1"});var yo,mo,Qn,Xn=h(()=>{"use strict";H();X();te();Hn();yo="Web",mo="$remote",Qn=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(Yn),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var r,n;return w(this,void 0,void 0,function(){var o,i,s,c;return E(this,function(u){return o=new Date().getTime(),i=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,s=(n=e.event_id)!==null&&n!==void 0?n:i+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=o),c=F(F(F(F(F(F(F(F({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:o},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:yo}),this.config.trackingOptions.language&&{language:lr()}),this.config.trackingOptions.ipAddress&&{ip:mo}),{insert_id:Q(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,c]})})},t}()});var ot,gr=h(()=>{"use strict";H();ot=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return w(this,void 0,void 0,function(){var e,r,n,o,i;return E(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),r=new t(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,e)];case 2:return s.sent(),[4,r.get(n)];case 3:return o=s.sent(),[2,o===e];case 4:return i=s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return w(this,void 0,void 0,function(){var r,n;return E(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return r=o.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=o.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var r;return w(this,void 0,void 0,function(){return E(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})},t.prototype.set=function(e,r){var n;return w(this,void 0,void 0,function(){return E(this,function(o){try{(n=this.storage)===null||n===void 0||n.setItem(e,JSON.stringify(r))}catch{}return[2]})})},t.prototype.remove=function(e){var r;return w(this,void 0,void 0,function(){return E(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return w(this,void 0,void 0,function(){return E(this,function(r){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}()});var at,yr,zn=h(()=>{"use strict";H();te();gr();at=1e3,yr=function(t){z(e,t);function e(r){var n=this,o;return n=t.call(this,(o=K())===null||o===void 0?void 0:o.localStorage)||this,n.loggerProvider=r?.loggerProvider,n}return e.prototype.set=function(r,n){var o;return w(this,void 0,void 0,function(){var i;return E(this,function(s){switch(s.label){case 0:return Array.isArray(n)&&n.length>at?(i=n.length-at,[4,t.prototype.set.call(this,r,n.slice(0,at))]):[3,2];case 1:return s.sent(),(o=this.loggerProvider)===null||o===void 0||o.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(at,".")),[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e}(ot)});var Zn,Jn=h(()=>{"use strict";H();te();gr();Zn=function(t){z(e,t);function e(){var r;return t.call(this,(r=K())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(ot)});var ei,ti=h(()=>{"use strict";H();X();ei=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={done:4},r}return e.prototype.send=function(r,n){return w(this,void 0,void 0,function(){var o=this;return E(this,function(i){return[2,new Promise(function(s,c){typeof XMLHttpRequest>"u"&&c(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===o.state.done){var a=u.responseText,f=a?JSON.parse(a):{code:u.status},d=o.buildResponse(f);s(d)}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},e}(be)});var ri,ni=h(()=>{"use strict";H();te();X();ri=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return w(this,void 0,void 0,function(){var o=this;return E(this,function(i){return[2,new Promise(function(s,c){var u=K();if(!u?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(n),f=u.navigator.sendBeacon(r,JSON.stringify(n));return s(f?o.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):o.buildResponse({code:500}))}catch(d){c(d)}})]})})},e}(be)});var ii,mr,_o,oi=h(()=>{"use strict";H();te();ii=function(t,e,r){return r===void 0&&(r=!0),w(void 0,void 0,void 0,function(){var n,o,i,s,c,u,a,f,d;return E(this,function(l){switch(l.label){case 0:return n=nr(t),[4,e.getRaw(n)];case 1:return o=l.sent(),o?r?[4,e.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:l.sent(),l.label=3;case 3:return i=wn(o.split("."),6),s=i[0],c=i[1],u=i[2],a=i[3],f=i[4],d=i[5],[2,{deviceId:s,userId:_o(c),sessionId:mr(a),lastEventId:mr(d),lastEventTime:mr(f),optOut:!!u}]}})})},mr=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},_o=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}}});var Z,Gu,_r,ai,si,br,wr,ui,ci,fi,li,di,st,ut,ct,Ve,pi,qe=h(()=>{"use strict";Z="[Amplitude]",Gu="".concat(Z," Page Viewed"),_r="".concat(Z," Form Started"),ai="".concat(Z," Form Submitted"),si="".concat(Z," File Downloaded"),br="session_start",wr="session_end",ui="".concat(Z," File Extension"),ci="".concat(Z," File Name"),fi="".concat(Z," Link ID"),li="".concat(Z," Link Text"),di="".concat(Z," Link URL"),st="".concat(Z," Form ID"),ut="".concat(Z," Form Name"),ct="".concat(Z," Form Destination"),Ve="cookie",pi="US"});var bo,vi,wo,Er,Eo,hi=h(()=>{"use strict";H();Y();X();te();zn();Jn();ti();ni();oi();qe();bo=function(t){z(e,t);function e(r,n,o,i,s,c,u,a,f,d,l,p,v,m,g,y,S,b,C,M,x,T,O,N,J,re,ge,fe,ye,Te,Ie){o===void 0&&(o=new Qe),i===void 0&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),a===void 0&&(a=5),f===void 0&&(f=30),d===void 0&&(d=Ve),g===void 0&&(g=new Ae),y===void 0&&(y=q.Warn),b===void 0&&(b=!1),C===void 0&&(C=!1),T===void 0&&(T=""),O===void 0&&(O=pi),J===void 0&&(J=30*60*1e3),re===void 0&&(re=new yr({loggerProvider:g})),ge===void 0&&(ge={ipAddress:!0,language:!0,platform:!0}),fe===void 0&&(fe="fetch"),ye===void 0&&(ye=!1);var _=t.call(this,{apiKey:r,storageProvider:re,transportProvider:Er(fe)})||this;return _.apiKey=r,_.appVersion=n,_.cookieOptions=i,_.defaultTracking=s,_.flushIntervalMillis=u,_.flushMaxRetries=a,_.flushQueueSize=f,_.identityStorage=d,_.ingestionMetadata=l,_.instanceName=p,_.loggerProvider=g,_.logLevel=y,_.minIdLength=S,_.offline=b,_.partnerId=M,_.plan=x,_.serverUrl=T,_.serverZone=O,_.sessionTimeout=J,_.storageProvider=re,_.trackingOptions=ge,_.transport=fe,_.useBatch=ye,_._optOut=!1,_._cookieStorage=o,_.deviceId=c,_.lastEventId=v,_.lastEventTime=m,_.optOut=C,_.sessionId=N,_.pageCounter=Ie,_.userId=Te,_.loggerProvider.enable(_.logLevel),_}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};this.cookieStorage.set(Ze(this.apiKey),r)},e}(Mt),vi=function(t,e,r){return e===void 0&&(e={}),w(void 0,void 0,void 0,function(){var n,o,i,s,c,u,a,f,d,l,p,v,m,g,y,S,b,C,M,x,T,O,N,J,re,ge,fe,ye,Te,Ie,_,dt,pt,vt,ht,gt,yt,mt,_t,bt,wt;return E(this,function(Se){switch(Se.label){case 0:return n=e.identityStorage||Ve,b={},n===Ve?[3,1]:(i="",[3,5]);case 1:return(M=(C=e.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&M!==void 0?(s=M,[3,4]):[3,2];case 2:return[4,Eo()];case 3:s=Se.sent(),Se.label=4;case 4:i=s,Se.label=5;case 5:return o=F.apply(void 0,[(b.domain=i,b.expiration=365,b.sameSite="Lax",b.secure=!1,b.upgrade=!0,b),e.cookieOptions]),c=wo(e.identityStorage,o),[4,ii(t,c,(T=(x=e.cookieOptions)===null||x===void 0?void 0:x.upgrade)!==null&&T!==void 0?T:!0)];case 6:return u=Se.sent(),[4,c.get(Ze(t))];case 7:return a=Se.sent(),f=pe(),d=(ge=(re=(J=(N=(O=e.deviceId)!==null&&O!==void 0?O:f.ampDeviceId)!==null&&N!==void 0?N:f.deviceId)!==null&&J!==void 0?J:a?.deviceId)!==null&&re!==void 0?re:u.deviceId)!==null&&ge!==void 0?ge:Q(),l=(fe=a?.lastEventId)!==null&&fe!==void 0?fe:u.lastEventId,p=(ye=a?.lastEventTime)!==null&&ye!==void 0?ye:u.lastEventTime,v=(Ie=(Te=e.optOut)!==null&&Te!==void 0?Te:a?.optOut)!==null&&Ie!==void 0?Ie:u.optOut,m=(_=a?.sessionId)!==null&&_!==void 0?_:u.sessionId,g=(pt=(dt=e.userId)!==null&&dt!==void 0?dt:a?.userId)!==null&&pt!==void 0?pt:u.userId,r.previousSessionDeviceId=(vt=a?.deviceId)!==null&&vt!==void 0?vt:u.deviceId,r.previousSessionUserId=(ht=a?.userId)!==null&&ht!==void 0?ht:u.userId,y={ipAddress:(yt=(gt=e.trackingOptions)===null||gt===void 0?void 0:gt.ipAddress)!==null&&yt!==void 0?yt:!0,language:(_t=(mt=e.trackingOptions)===null||mt===void 0?void 0:mt.language)!==null&&_t!==void 0?_t:!0,platform:(wt=(bt=e.trackingOptions)===null||bt===void 0?void 0:bt.platform)!==null&&wt!==void 0?wt:!0},S=a?.pageCounter,[2,new bo(t,e.appVersion,c,o,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,l,p,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,v,e.partnerId,e.plan,e.serverUrl,e.serverZone,m,e.sessionTimeout,e.storageProvider,y,e.transport,e.useBatch,g,S)]}})})},wo=function(t,e){switch(t===void 0&&(t=Ve),e===void 0&&(e={}),t){case"localStorage":return new yr;case"sessionStorage":return new Zn;case"none":return new Qe;case"cookie":default:return new Me(F(F({},e),{expirationDays:e.expiration}))}},Er=function(t){return t==="xhr"?new ei:t==="beacon"?new ri:new ar},Eo=function(t){return w(void 0,void 0,void 0,function(){var e,r,n,o,i,i,s,c,u,a;return E(this,function(f){switch(f.label){case 0:return[4,new Me().isEnabled()];case 1:if(!f.sent()||!t&&(typeof location>"u"||!location.hostname))return[2,""];for(e=t??location.hostname,r=e.split("."),n=[],o="AMP_TLDTEST",i=r.length-2;i>=0;--i)n.push(r.slice(i).join("."));i=0,f.label=2;case 2:return i<n.length?(s=n[i],c={domain:"."+s},u=new Me(c),[4,u.set(o,1)]):[3,7];case 3:return f.sent(),[4,u.get(o)];case 4:return a=f.sent(),a?[4,u.remove(o)]:[3,6];case 5:return f.sent(),[2,"."+s];case 6:return i++,[3,2];case 7:return[2,""]}})})}});function we(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{a(n.next(f))}catch(d){s(d)}}function u(f){try{a(n.throw(f))}catch(d){s(d)}}function a(f){f.done?i(f.value):o(f.value).then(c,u)}a((n=n.apply(t,e||[])).next())})}function Ee(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(f){return u([a,f])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ft(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Sr(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var ce,gi=h(()=>{"use strict";ce=function(){return ce=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ce.apply(this,arguments)}});var yi,mi=h(()=>{"use strict";yi=function(t){var e={};for(var r in t){var n=t[r];n&&(e[r]=n)}return e}});var So,xr,xo,To,Io,_i=h(()=>{"use strict";gi();te();Y();te();mi();So="[Amplitude] Page Viewed",xr=function(t){t===void 0&&(t={});var e,r=K(),n=void 0,o,i,s=t.trackOn,c=t.trackHistoryChanges,u=t.eventType,a=u===void 0?So:u,f=function(){return we(void 0,void 0,void 0,function(){var g,y;return Ee(this,function(S){switch(S.label){case 0:return y={event_type:a},g=[{}],[4,xo()];case 1:return[2,(y.event_properties=ce.apply(void 0,[ce.apply(void 0,g.concat([S.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":typeof location<"u"&&location.href||"","[Amplitude] Page Path":typeof location<"u"&&location.pathname||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":typeof location<"u"&&location.href.split("?")[0]||""}]),y)]}})})},d=function(){return typeof s>"u"||typeof s=="function"&&s()},l=typeof location<"u"?location.href:null,p=function(){return we(void 0,void 0,void 0,function(){var g,y,S,b,C;return Ee(this,function(M){switch(M.label){case 0:return g=location.href,y=Io(c,g,l||"")&&d(),l=g,y?(n?.log("Tracking page view event"),e!=null?[3,1]:(S=void 0,[3,3])):[3,4];case 1:return C=(b=e).track,[4,f()];case 2:S=C.apply(b,[M.sent()]),M.label=3;case 3:M.label=4;case 4:return[2]}})})},v=function(){p()},m={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(g,y){return we(void 0,void 0,void 0,function(){var S,b;return Ee(this,function(C){switch(C.label){case 0:return e=y,i=g,n=g.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",v),o=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(M,x,T){var O=ft(T,3),N=O[0],J=O[1],re=O[2];M.apply(x,[N,J,re]),p()}})),d()?(n.log("Tracking page view event"),b=(S=e).track,[4,f()]):[3,2];case 1:b.apply(S,[C.sent()]),C.label=2;case 2:return[2]}})})},execute:function(g){return we(void 0,void 0,void 0,function(){var y;return Ee(this,function(S){switch(S.label){case 0:return s==="attribution"&&To(g)?(n?.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:y=S.sent(),g.event_type=y.event_type,g.event_properties=ce(ce({},g.event_properties),y.event_properties),S.label=2;case 2:return i&&g.event_type===a&&(i.pageCounter=i.pageCounter?i.pageCounter+1:1,g.event_properties=ce(ce({},g.event_properties),{"[Amplitude] Page Counter":i.pageCounter})),[2,g]}})})},teardown:function(){return we(void 0,void 0,void 0,function(){return Ee(this,function(g){return r&&(r.removeEventListener("popstate",v),o&&(r.history.pushState=o)),[2]})})}};return m},xo=function(){return we(void 0,void 0,void 0,function(){var t;return Ee(this,function(e){switch(e.label){case 0:return t=yi,[4,new Ue().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},To=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,r=e[U.SET]||{},n=e[U.UNSET]||{},o=Sr(Sr([],ft(Object.keys(r)),!1),ft(Object.keys(n)),!1);return Object.keys(ue).every(function(i){return o.includes(i)})}return!1},Io=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}}});var bi=h(()=>{"use strict";_i()});var wi,xe,Ei=h(()=>{"use strict";H();qe();wi=function(){var t,e=[],r=function(a,f,d){a.addEventListener(f,d),e.push({element:a,type:f,handler:d})},n=function(){e.forEach(function(a){var f=a.element,d=a.type,l=a.handler;f?.removeEventListener(d,l)}),e=[]},o="@amplitude/plugin-form-interaction-tracking-browser",i="enrichment",s=function(a,f){return w(void 0,void 0,void 0,function(){return E(this,function(d){return window.addEventListener("load",function(){if(!f){a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var l=function(v){var m=!1;r(v,"change",function(){var g;m||f.track(_r,(g={},g[st]=xe(v.id),g[ut]=xe(v.name),g[ct]=v.action,g)),m=!0}),r(v,"submit",function(){var g,y;m||f.track(_r,(g={},g[st]=xe(v.id),g[ut]=xe(v.name),g[ct]=v.action,g)),f.track(ai,(y={},y[st]=xe(v.id),y[ut]=xe(v.name),y[ct]=v.action,y)),m=!1})},p=Array.from(document.getElementsByTagName("form"));p.forEach(l),typeof MutationObserver<"u"&&(t=new MutationObserver(function(v){v.forEach(function(m){m.addedNodes.forEach(function(g){g.nodeName==="FORM"&&l(g),"querySelectorAll"in g&&typeof g.querySelectorAll=="function"&&Array.from(g.querySelectorAll("form")).map(l)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return w(void 0,void 0,void 0,function(){return E(this,function(f){return[2,a]})})},u=function(){return w(void 0,void 0,void 0,function(){return E(this,function(a){return t?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:s,execute:c,teardown:u}},xe=function(t){if(typeof t=="string")return t}});var Si,xi=h(()=>{"use strict";H();qe();Si=function(){var t,e=[],r=function(a,f,d){a.addEventListener(f,d),e.push({element:a,type:f,handler:d})},n=function(){e.forEach(function(a){var f=a.element,d=a.type,l=a.handler;f?.removeEventListener(d,l)}),e=[]},o="@amplitude/plugin-file-download-tracking-browser",i="enrichment",s=function(a,f){return w(void 0,void 0,void 0,function(){return E(this,function(d){return window.addEventListener("load",function(){if(!f){a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var l=function(m){var g;try{g=new URL(m.href,window.location.href)}catch{return}var y=p.exec(g.href),S=y?.[1];S&&r(m,"click",function(){var b;S&&f.track(si,(b={},b[ui]=S,b[ci]=g.pathname,b[fi]=m.id,b[li]=m.text,b[di]=m.href,b))})},p=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,v=Array.from(document.getElementsByTagName("a"));v.forEach(l),typeof MutationObserver<"u"&&(t=new MutationObserver(function(m){m.forEach(function(g){g.addedNodes.forEach(function(y){y.nodeName==="A"&&l(y),"querySelectorAll"in y&&typeof y.querySelectorAll=="function"&&Array.from(y.querySelectorAll("a")).map(l)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return w(void 0,void 0,void 0,function(){return E(this,function(f){return[2,a]})})},u=function(){return w(void 0,void 0,void 0,function(){return E(this,function(a){return t?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:s,execute:c,teardown:u}}});var Ti,Ii,Pi=h(()=>{"use strict";Ti=!1,Ii=function(t){if(!(Ti||t.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;t.loggerProvider.warn(e),Ti=!0}}});var Oi,Ci=h(()=>{"use strict";H();te();Oi=function(){var t="@amplitude/plugin-network-checker-browser",e="before",r=K(),n=[],o=function(u,a){r&&(r.addEventListener(u,a),n.push({type:u,handler:a}))},i=function(){n.forEach(function(u){var a=u.type,f=u.handler;r&&r.removeEventListener(a,f)}),n=[]},s=function(u,a){return w(void 0,void 0,void 0,function(){return E(this,function(f){return u.offline=!navigator.onLine,o("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){a.flush()},u.flushIntervalMillis)}),o("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2]})})},c=function(){return w(void 0,void 0,void 0,function(){return E(this,function(u){return i(),[2]})})};return{name:t,type:e,setup:s,teardown:c}}});var Ri,Di=h(()=>{"use strict";H();X();te();Y();$n();Xn();hi();bi();Ei();xi();qe();Pi();Ci();Ri=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,o){r===void 0&&(r="");var i,s;return arguments.length>2?(i=n,s=o):typeof n=="string"?(i=n,s=void 0):(i=n?.userId,s=n),B(this._init(F(F({},s),{userId:i,apiKey:r})))},e.prototype._init=function(r){var n,o,i;return w(this,void 0,void 0,function(){var s,c,u,a,f,d=this;return E(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,vi(r.apiKey,r,this)]);case 1:return s=l.sent(),[4,t.prototype._init.call(this,s)];case 2:return l.sent(),et(this.config.defaultTracking)?(c=hr(this.config),this.webAttribution=new or(c,this.config),[4,this.webAttribution.init()]):[3,4];case 3:l.sent(),l.label=4;case 4:return u=pe(),a=Number.isNaN(Number(u.ampSessionId))?void 0:Number(u.ampSessionId),this.setSessionId((i=(o=(n=r.sessionId)!==null&&n!==void 0?n:a)!==null&&o!==void 0?o:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),f=he(r.instanceName),f.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===It?[3,6]:[4,this.add(Oi()).promise];case 5:l.sent(),l.label=6;case 6:return[4,this.add(new Vt).promise];case 7:return l.sent(),[4,this.add(new Qn).promise];case 8:return l.sent(),[4,this.add(new fr).promise];case 9:return l.sent(),Ii(this.config),dr(this.config.defaultTracking)?[4,this.add(Si()).promise]:[3,11];case 10:l.sent(),l.label=11;case 11:return pr(this.config.defaultTracking)?[4,this.add(wi()).promise]:[3,13];case 12:l.sent(),l.label=13;case 13:return tt(this.config.defaultTracking)?[4,this.add(xr(vr(this.config))).promise]:[3,15];case 14:l.sent(),l.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return l.sent(),f.eventBridge.setEventReceiver(function(p){d.track(p.eventType,p.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}(r!==this.config.userId||r===void 0)&&(this.config.userId=r,sr(r,this.config.instanceName))},e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r,ur(r,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(Q()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},e.prototype.setSessionId=function(r){var n,o=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),B(Promise.resolve());if(r===this.config.sessionId)return B(Promise.resolve());var i=this.getSessionId(),s=this.config.lastEventTime,c=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,rt(this.config.defaultTracking)&&(i&&s&&o.push(this.track(wr,void 0,{device_id:this.previousSessionDeviceId,event_id:++c,session_id:i,time:s+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++c,o);return rt(this.config.defaultTracking)&&o.push(this.track(br,void 0,{event_id:u?++c:c,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,B(Promise.all(o))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Er(r)},e.prototype.identify=function(r,n){if(it(r)){var o=r._q;r._q=[],r=nt(new ee,o)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),t.prototype.identify.call(this,r,n)},e.prototype.groupIdentify=function(r,n,o,i){if(it(o)){var s=o._q;o._q=[],o=nt(new ee,s)}return t.prototype.groupIdentify.call(this,r,n,o,i)},e.prototype.revenue=function(r,n){if(it(r)){var o=r._q;r._q=[],r=nt(new Ke,o)}return t.prototype.revenue.call(this,r,n)},e.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var o=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(o).promise):this.track(o),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(r){return w(this,void 0,void 0,function(){var n,o,i;return E(this,function(s){return n=Date.now(),o=Le(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==br&&r.event_type!==wr&&(!r.session_id||r.session_id===this.getSessionId())&&(o||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):o||this.trackCampaignEventIfNeeded()),[2,t.prototype.process.call(this,r)]})})},e}(Ut)});var Po,L,ki=h(()=>{"use strict";X();Di();Po=function(){var t=new Ri;return{init:k(t.init.bind(t),"init",R(t),D(t,["config"])),add:k(t.add.bind(t),"add",R(t),D(t,["config.apiKey","timeline.plugins"])),remove:k(t.remove.bind(t),"remove",R(t),D(t,["config.apiKey","timeline.plugins"])),track:k(t.track.bind(t),"track",R(t),D(t,["config.apiKey","timeline.queue.length"])),logEvent:k(t.logEvent.bind(t),"logEvent",R(t),D(t,["config.apiKey","timeline.queue.length"])),identify:k(t.identify.bind(t),"identify",R(t),D(t,["config.apiKey","timeline.queue.length"])),groupIdentify:k(t.groupIdentify.bind(t),"groupIdentify",R(t),D(t,["config.apiKey","timeline.queue.length"])),setGroup:k(t.setGroup.bind(t),"setGroup",R(t),D(t,["config.apiKey","timeline.queue.length"])),revenue:k(t.revenue.bind(t),"revenue",R(t),D(t,["config.apiKey","timeline.queue.length"])),flush:k(t.flush.bind(t),"flush",R(t),D(t,["config.apiKey","timeline.queue.length"])),getUserId:k(t.getUserId.bind(t),"getUserId",R(t),D(t,["config","config.userId"])),setUserId:k(t.setUserId.bind(t),"setUserId",R(t),D(t,["config","config.userId"])),getDeviceId:k(t.getDeviceId.bind(t),"getDeviceId",R(t),D(t,["config","config.deviceId"])),setDeviceId:k(t.setDeviceId.bind(t),"setDeviceId",R(t),D(t,["config","config.deviceId"])),reset:k(t.reset.bind(t),"reset",R(t),D(t,["config","config.userId","config.deviceId"])),getSessionId:k(t.getSessionId.bind(t),"getSessionId",R(t),D(t,["config"])),setSessionId:k(t.setSessionId.bind(t),"setSessionId",R(t),D(t,["config"])),extendSession:k(t.extendSession.bind(t),"extendSession",R(t),D(t,["config"])),setOptOut:k(t.setOptOut.bind(t),"setOptOut",R(t),D(t,["config"])),setTransport:k(t.setTransport.bind(t),"setTransport",R(t),D(t,["config"]))}},L=Po()});var Oo,Vc,qc,Bc,Gc,Wc,Kc,Ai,ji,$c,Yc,Hc,Qc,Xc,zc,Zc,Jc,ef,Ui,Li,Mi=h(()=>{"use strict";ki();X();Oo=L.add,Vc=L.extendSession,qc=L.flush,Bc=L.getDeviceId,Gc=L.getSessionId,Wc=L.getUserId,Kc=L.groupIdentify,Ai=L.identify,ji=L.init,$c=L.logEvent,Yc=L.remove,Hc=L.reset,Qc=L.revenue,Xc=L.setDeviceId,zc=L.setGroup,Zc=L.setOptOut,Jc=L.setSessionId,ef=L.setTransport,Ui=L.setUserId,Li=L.track});function sf({apiKey:t,user:e,config:r}){if(!V()||!t)return;let n=e?._id;ji(t,n,r),e&&(Ui(n),Co(Ro(e)))}function uf(t,e,r){!V()||!t||Li(t,e,r)}function Co(t){if(!V()||!t)return;let e=new ee;for(let[r,n]of Object.entries(t))e.set(r,n);Ai(e)}function Ro(t){return{userId:t._id,customer:!!t.plan,coupon:t.stripe?.coupon_name,planType:t.plan?.level||"free",planPeriod:t.plan?.interval,totalProjects:t.created_mags_count||0,publishedProjects:t.mags_count||0,customDomainProjects:t.projectDomains||0,betaTester:!!t.permissions?.can_use_beta_testing,lifeTimeValue:t.analytics_data?.lifeTimeValue||0,numOfVisits:["profile","public","editor"].reduce((e,r)=>e+(t.analytics_data?.[`visit_${r}`]||0),0),job:t.job?.toLowerCase().includes("other")?"other":t.job?.toLowerCase(),project:t.future_project?.toLowerCase().includes("other")?"other":t.future_project?.toLowerCase(),signUpDate:Tr(t.createDate),lastVisitDate:Tr(t.last_token_refresh),firstPaymentDate:Tr(t.stripe?.subscription_start)}}function Tr(t){return t?Cr(Rr(t),"yyyy-MM-dd"):""}var Ni=h(()=>{"use strict";Mi();$i();Pe()});var Fi=Pr((lt,Ir)=>{"use strict";(function(t,e){typeof lt=="object"&&typeof Ir=="object"?Ir.exports=e():typeof define=="function"&&define.amd?define([],e):typeof lt=="object"?lt.ReactPixel=e():t.ReactPixel=e()})(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var s in n)r.d(i,s,function(c){return n[c]}.bind(null,s));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";function n(d){return function(l){if(Array.isArray(l))return o(l)}(d)||function(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}(d)||function(l,p){if(l){if(typeof l=="string")return o(l,p);var v=Object.prototype.toString.call(l).slice(8,-1);if(v==="Object"&&l.constructor&&(v=l.constructor.name),v==="Map"||v==="Set")return Array.from(l);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return o(l,p)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(d,l){(l==null||l>d.length)&&(l=d.length);for(var p=0,v=new Array(l);p<l;p++)v[p]=d[p];return v}r.r(e);var i=!1,s=!1,c=function(){var d;if(s){for(var l=arguments.length,p=new Array(l),v=0;v<l;v++)p[v]=arguments[v];(d=console).info.apply(d,n(["[react-facebook-pixel]"].concat(p)))}},u=function(){var d;if(s){for(var l=arguments.length,p=new Array(l),v=0;v<l;v++)p[v]=arguments[v];(d=console).info.apply(d,n(["[react-facebook-pixel]"].concat(p)))}},a=function(){return i||c("Pixel not initialized before using call ReactPixel.init with required params"),i},f={autoConfig:!0,debug:!1};e.default={init:function(d){var l,p,v,m,g,y,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f;i=typeof window<"u"&&!!window.fbq,l=window,p=document,v="script",l.fbq||(m=l.fbq=function(){m.callMethod?m.callMethod.apply(m,arguments):m.queue.push(arguments)},l._fbq||(l._fbq=m),m.push=m,m.loaded=!0,m.version="2.0",m.queue=[],(g=p.createElement(v)).async=!0,g.src="https://connect.facebook.net/en_US/fbevents.js",(y=p.getElementsByTagName(v)[0]).parentNode.insertBefore(g,y)),d?(b.autoConfig===!1&&fbq("set","autoConfig",!1,d),fbq("init",d,S),i=!0,s=b.debug):c("Please insert pixel id for initializing")},pageView:function(){a()&&(fbq("track","PageView"),s&&u("called fbq('track', 'PageView');"))},track:function(d,l,p){a()&&(fbq("track",d,l,p),s&&(u("called fbq('track', '".concat(d,"');")),l&&u("with data",l),p&&u("with eventData",p)))},trackSingle:function(d,l,p,v){a()&&(fbq("trackSingle",d,l,p,v),s&&(u("called fbq('trackSingle', '".concat(d,"', '").concat(l,"');")),p&&u("with data",p),v&&u("with eventData",v)))},trackCustom:function(d,l,p){a()&&(fbq("trackCustom",d,l,p),s&&(u("called fbq('trackCustom', '".concat(d,"');")),l&&u("with data",l),p&&u("with eventData",p)))},trackSingleCustom:function(d,l,p,v){a()&&(fbq("trackSingle",d,l,p,v),s&&(u("called fbq('trackSingleCustom', '".concat(d,"', '").concat(l,"');")),p&&u("with data",p),v&&u("with eventData",v)))},grantConsent:function(){a()&&(fbq("consent","grant"),s&&u("called fbq('consent', 'grant');"))},revokeConsent:function(){a()&&(fbq("consent","revoke"),s&&u("called fbq('consent', 'revoke');"))},fbq:function(d){function l(){return d.apply(this,arguments)}return l.toString=function(){return d.toString()},l}(function(){if(a()){for(var d=arguments.length,l=new Array(d),p=0;p<d;p++)l[p]=arguments[p];fbq.apply(void 0,l),s&&(u("called fbq('".concat(l.slice(0,2).join("', '"),"')")),l[2]&&u("with data",l[2]))}})}}])})});var Vi,lf,qi=h(()=>{"use strict";Pe();Vi=!1,lf=({id:t,eventName:e,eventParams:r={},eventIdParams:n={}})=>{if(!V())return;let o=Fi();Vi||(o.default.init(t),Vi=!0),o.default.track(e,r,n)}});var Bi,Gi=h(()=>{"use strict";(function(t){t.TemplatePreview="template preview",t.TemplatesPage="templates page",t.Profile="profile",t.Help="help",t.Editor="editor",t.EditorHelp="editor help",t.EditorPages="editor pages"})(Bi||(Bi={}))});var Do,Wi=h(()=>{"use strict";Do=Or(Ki())});var ko=h(()=>{"use strict";xt();xt();Wr();Gi();Wi();qi();Ni()});export{Dr as a,to as b,qr as c,Br as d,Bi as e,sf as f,uf as g,lf as h,ko as i};

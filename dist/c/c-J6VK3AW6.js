import{a as lt,b as mn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-2PLRGNYM.js";import{a as ze,b as ct}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-RQGYYVKV.js";import{a as gt,b as Pn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-VSPWXDSJ.js";import{b as ut,k as fn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-3EWCZI4V.js";import{c as mt,d as Tt,e as ht,f as Pt,h as ft,j as bt,o as St,p as bn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-XL4GEQ5L.js";import{a as Se,b as dt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-MDTEAFKQ.js";import{a as pt,b as hn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-6CBOMRQE.js";import{a as O,b as be}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-3F6EF27S.js";import{b as je,e as Tn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-L66LGWG6.js";import{d as X,j as G,k as Ve}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-G7LL33IT.js";import{B as xe,C as r,D as g,E as q}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-CDKT2ROD.js";import{a as Fe}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-OL6RUHLY.js";import{a as M,b as ne}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-IDNXBTON.js";import{h as it,z as dn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-U334KKIN.js";import{b as de,c as pn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UGELT6OI.js";import{b as rt}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-67K43HFM.js";import{a as st,c as gn,j as at,o as un}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-55VYORUF.js";import{b as cn}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UB3G6XPO.js";import{a as U,d as le,f as fe}from"https://st-p.rmcdn.net/af2666fc/dist/c/c-UGUCNLQ2.js";var re=U(()=>{"use strict"});function d({children:e}){return r(je,{textStyle:"small",children:e})}function c({children:e}){return r(je,{textStyle:"small",fontStyle:"italic",children:e})}var $e=U(()=>{"use strict";Tn();q()});var z,C,xt,yt=U(()=>{"use strict";$e();re();q();z={TextWidget:g(d,{children:["Click on the ",r(c,{children:"plus"})," in the lower-left panel and choose a Text widget"]}),TextWidgetOpenPanel:"Select the text widget to get back on track",PictureWidgetSelect:g(d,{children:["Click on the ",r(c,{children:"plus"})," in the lower-left panel and add a Picture widget"]}),PictureWidgetUse:"Select the picture widget again",ButtonWidgetSelect:g(d,{children:["Click on the plus and choose a ",r(c,{children:"Button"})," widget"]}),ButtonWidgetAdjustVisualProperties:"Select the button widget you added earlier",ButtonWidgetAddLink:"Select the button widget you added earlier",CreateLayout:g(d,{children:["\u0421lick the ",r(c,{children:"Devices"})," icon to add a mobile layout"]}),CreateLayoutSelect:g(d,{children:["\u0421lick the ",r(c,{children:"Devices"})," icon to add a mobile layout"]})},C={TextWidget:g(d,{children:["First, let\u2019s learn how to work with text blocks. Click here to add a ",r(c,{children:"Text"})," widget"]}),TextWidgetOpenPanel:g(d,{children:["Now open the ",r(c,{children:"Typography"})," panel"]}),TextWidgetProperties:"Change the font size to 13 and click on the empty area",TextWidgetSelect:r(d,{children:"Let\u2019s say you want to finish text editing\u2014just click on any empty area"}),TextWidgetDrag:r(d,{children:"Now drag the text to its placeholder (a place reserved for a particular element)"}),PictureWidget:g(d,{children:["You\u2019re off to a good start! Now click on the ",r(c,{children:"plus"})," to start adding a picture"]}),PictureWidgetSelect:g(d,{children:["Choose the ",r(c,{children:"Picture"})," widget"]}),PictureWidgetUse:"Click on the Unsplash icon and pick a picture of a building",PictureWidgetChoose:"Pick a picture building",PictureWidgetClickOutside:"Now let\u2019s align this widget to the grid. Click on the empty area",SelectGrids:g(d,{children:["Then select ",r(c,{children:"Grid & Guides"})]}),ChangeGrids:g(d,{children:["The 3 dots on the right top of the settings correspond to 3 grid presets",r("br",{}),"Click on the last dot"]}),PictureWidgetPlace:"Move the picture to its placeholder and align it to the grid",EverythingInItsRightPlace:"Check that all the added widgets are aligned to the grid and click on empty area",TurnOffGuides:g(d,{children:["Disable the guides by pressing the ",r(c,{children:"H"})," key"]}),PageHeight:g(d,{children:["Now we\u2019ll decrease the page height.",r("br",{}),"Scroll down and drag the ",r(c,{children:"Blue Diamond"})," up"]}),OpenLayersPanel:g(d,{children:["Go to the ",r(c,{children:"Layers"})," panel by pressing ",r(c,{children:"Q"})," to delete placeholders no longer needed"]}),SelectBlocksAndDelete:g(d,{children:["Select widget groups of placeholders and press ",r(c,{children:"Delete"})]}),DeleteBlocks:g(d,{children:["Go to the ",r(c,{children:"Layers"})," panel by pressing ",r(c,{children:"Q"})," and delete no longer needed widget groups of placeholders"]}),ButtonWidget:g(d,{children:["Well done, now let\u2019s add a button. Click on the ",r(c,{children:"plus"})," first"]}),ButtonWidgetSelect:g(d,{children:["Choose a ",r(c,{children:"Button"})," widget"]}),ButtonWidgetAdjustVisualProperties:"Change the button color to black and click on the empty area",ButtonWidgetAddLink:g(d,{children:["Choose an ",r(c,{children:"Anchor"})," type link from the dropdown",r("br",{}),"and add it to the button"]}),ButtonWidgetAddLinkType:g(d,{children:["Add ",r(c,{children:"Anchor"})," link to the button"]}),ButtonWidgetAnchorLinkPosition:"Set the place were the anchor link will lead\u2014above the pictures",ButtonWidgetDrag:"Now drag the button to its placeholder",CreateLayout:g(d,{children:["Now let\u2019s see how your design looks in the mobile version",r("br",{}),"Click on the ",r(c,{children:"Devices"})," icon"]}),CreateLayoutSelect:g(d,{children:["Click on the ",r(c,{children:"plus"})," at the top of the Devices panel"]}),AdjustSizes:"It\u2019s time to add the finishing touch. Swap the picture with the text widget",ArrangeMobile:g(d,{children:["Click ",r(c,{children:"Single column"})," to arrange a mobile version"]}),PreviewAndPublish:g(d,{children:["Last step! Click on the ",r(c,{children:"Eye"})," icon to preview your project before publishing"]}),BackToConstructor:g(d,{children:["Hit ",r(c,{children:"Publish"})," or click the pencil icon to go back to the editor"]})},xt={TextWidget:{name:"TextWidget",text({isPresetPanel:e}={}){return e?g(d,{children:["Open ",r(c,{children:"Widgets"})]}):C.TextWidget},num:1,nextStep:"TextWidgetOpenPanel",widgetSelectionType:"text",fallbackText:z.TextWidget},TextWidgetOpenPanel:{name:"TextWidgetOpenPanel",text:C.TextWidgetOpenPanel,num:2,prevStep:"TextWidget",nextStep:"TextWidgetProperties",fallbackText:z.TextWidgetOpenPanel},TextWidgetProperties:{name:"TextWidgetProperties",text:C.TextWidgetProperties,num:3,prevStep:"TextWidgetOpenPanel",nextStep:"TextWidgetSelect",fallbackText:z.TextWidgetOpenPanel},TextWidgetSelect:{name:"TextWidgetSelect",text:C.TextWidgetSelect,num:4,prevStep:"TextWidgetProperties",nextStep:"TextWidgetDrag"},TextWidgetDrag:{name:"TextWidgetDrag",text:C.TextWidgetDrag,num:5,prevStep:"TextWidgetSelect",nextStep:"ButtonWidget"},ButtonWidget:{name:"ButtonWidget",text:C.ButtonWidget,num:6,prevStep:"TextWidgetDrag",nextStep:"ButtonWidgetSelect"},ButtonWidgetSelect:{name:"ButtonWidgetSelect",text:C.ButtonWidgetSelect,num:7,prevStep:"ButtonWidget",nextStep:"ButtonWidgetDrag",widgetSelectionType:"button",fallbackText:z.ButtonWidgetSelect},ButtonWidgetDrag:{name:"ButtonWidgetDrag",text:C.ButtonWidgetDrag,num:8,prevStep:"ButtonWidgetSelect",nextStep:"ButtonWidgetAdjustVisualProperties"},ButtonWidgetAdjustVisualProperties:{name:"ButtonWidgetAdjustVisualProperties",text:C.ButtonWidgetAdjustVisualProperties,num:9,prevStep:"ButtonWidgetDrag",nextStep:"ButtonWidgetAddLink",fallbackText:z.ButtonWidgetAdjustVisualProperties},ButtonWidgetAddLink:{name:"ButtonWidgetAddLink",text:C.ButtonWidgetAddLink,num:10,prevStep:"ButtonWidgetAdjustVisualProperties",nextStep:"ButtonWidgetAddLinkType",fallbackText:z.ButtonWidgetAddLink},ButtonWidgetAddLinkType:{name:"ButtonWidgetAddLinkType",text:C.ButtonWidgetAddLinkType,num:11,prevStep:"ButtonWidgetAddLink",nextStep:"ButtonWidgetAnchorLinkPosition",fallbackText:z.ButtonWidgetAddLink},ButtonWidgetAnchorLinkPosition:{name:"ButtonWidgetAnchorLinkPosition",text:C.ButtonWidgetAnchorLinkPosition,num:12,prevStep:"ButtonWidgetAddLink",nextStep:"PictureWidget"},PictureWidget:{name:"PictureWidget",text:C.PictureWidget,num:13,prevStep:"ButtonWidgetAddLink",nextStep:"PictureWidgetSelect",widgetSelectionType:"picture"},PictureWidgetSelect:{name:"PictureWidgetSelect",text:C.PictureWidgetSelect,num:14,prevStep:"PictureWidget",nextStep:"PictureWidgetUse",widgetSelectionType:"picture",fallbackText:z.PictureWidgetSelect},PictureWidgetUse:{name:"PictureWidgetUse",text:C.PictureWidgetUse,num:15,prevStep:"PictureWidgetSelect",nextStep:"PictureWidgetChoose",fallbackText:z.PictureWidgetUse},PictureWidgetChoose:{name:"PictureWidgetChoose",text:C.PictureWidgetChoose,num:16,prevStep:"PictureWidgetUse",nextStep:"PictureWidgetClickOutside"},PictureWidgetClickOutside:{name:"PictureWidgetClickOutside",text:C.PictureWidgetClickOutside,num:17,prevStep:"PictureWidgetUse",nextStep:"SelectGrids",fallbackStep:"SelectGrids"},SelectGrids:{name:"SelectGrids",text:C.SelectGrids,num:18,prevStep:"PictureWidgetClickOutside",nextStep:"ChangeGrids"},ChangeGrids:{name:"ChangeGrids",text:C.ChangeGrids,num:19,prevStep:"SelectGrids",nextStep:"PictureWidgetPlace"},PictureWidgetPlace:{name:"PictureWidgetPlace",text:C.PictureWidgetPlace,num:20,prevStep:"ChangeGrids",nextStep:"EverythingInItsRightPlace"},EverythingInItsRightPlace:{name:"EverythingInItsRightPlace",text:C.EverythingInItsRightPlace,num:21,prevStep:"PictureWidgetPlace",nextStep:"TurnOffGuides"},TurnOffGuides:{name:"TurnOffGuides",text:C.TurnOffGuides,num:22,prevStep:"EverythingInItsRightPlace",nextStep:"PageHeight"},PageHeight:{name:"PageHeight",text:C.PageHeight,num:23,prevStep:"TurnOffGuides",nextStep:"OpenLayersPanel"},OpenLayersPanel:{name:"OpenLayersPanel",text:C.OpenLayersPanel,num:24,prevStep:"PageHeight",nextStep:"SelectBlocksAndDelete"},SelectBlocksAndDelete:{name:"SelectBlocksAndDelete",text:C.SelectBlocksAndDelete,num:25,prevStep:"OpenLayersPanel",nextStep:"CreateLayout"},CreateLayout:{name:"CreateLayout",text:C.CreateLayout,num:26,prevStep:"ButtonWidgetAddLink",nextStep:"CreateLayoutSelect",fallbackText:z.CreateLayout},CreateLayoutSelect:{name:"CreateLayoutSelect",text:C.CreateLayoutSelect,num:27,prevStep:"CreateLayout",nextStep:"ArrangeMobile",fallbackText:z.CreateLayoutSelect},ArrangeMobile:{name:"ArrangeMobile",text:C.ArrangeMobile,num:28,prevStep:"CreateLayoutSelect",nextStep:"PreviewAndPublish"},PreviewAndPublish:{name:"PreviewAndPublish",text:C.PreviewAndPublish,num:29,prevStep:"ArrangeMobile",nextStep:"BackToConstructor"},BackToConstructor:{name:"BackToConstructor",text:C.BackToConstructor,num:30,prevStep:"PreviewAndPublish"}}});var B,w,wt,kt=U(()=>{"use strict";$e();re();q();B={OpenBackgroundLayer:g(d,{children:["Open ",r(c,{children:"Background"})," layer"]}),MobileMenuVisible:g(d,{children:["Click on your Mobile menu in ",r(c,{children:"Layers"})]}),BeforeAddAnimations:g(d,{children:["Click on your Mobile menu in ",r(c,{children:"Layers"})]}),ClickOnPaletteIcon:g(d,{children:["\u0421hoose gray color for ",r(c,{children:"Background"})," in ",r(c,{children:"Layers"})]}),ChangeGrids:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),ClickOnSnapButton:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),ClickOnSizesButton:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),TurnOnTheBlocksMode:g(d,{children:["Open ",r(c,{children:"Modes"})]}),SwitchToMobileLayout:g(d,{children:["Switch to the Mobile layout in ",r(c,{children:"Devices"})]}),AddAnimations:r(d,{children:"Click on your Mobile menu again"}),AddTapAnimations:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),AddTapMoveAnimations:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),SetAnimationValue:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),SetAnimationTrigger:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),PositionControlClick:r(d,{children:"Click on your Mobile menu again"}),PositionTopRight:g(d,{children:["Open ",r(c,{children:"Position"})," tab"]}),PositionTogglesOn:g(d,{children:["Open ",r(c,{children:"Position"})," tab"]}),SwitchToDesktop:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]}),UseCustomCursor:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]}),PointerCursorUpload:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]})},w={OpenLayersPanel:g(d,{children:["Let's tweak this website a bit. Open ",r(c,{children:"Layers"})," panel ",r("br",{}),"to change the background color"]}),OpenBackgroundLayer:g(d,{children:["Open ",r(c,{children:"Background"})," layer"]}),ClickOnPaletteIcon:r(d,{children:"Choose gray color"}),SelectGrids:g(d,{children:["Now let's align widgets\u2014building blocks your layout ",r("br",{}),"consists of\u2014to the grid. Open ",r(c,{children:"Grid & Guides"})]}),ChangeGrids:g(d,{children:["The 3 dots on the right top of the settings correspond to 3 grid presets",r("br",{}),"Click on the last dot"]}),ClickOnSnapButton:g(d,{children:["Click on ",r(c,{children:"Snap"})," and all widgets will stick to the edges of columns and rows"]}),ClickOnSizesButton:g(d,{children:["Now click on ",r(c,{children:"Sizes"})," to see widgets' exact dimensions"]}),ArrangeWidgetsInTheGrid:r(d,{children:"Arrange widgets in the grid"}),ClickOnModesIcon:g(d,{children:["Now let's adjust distance between the blocks\u2014locked joints of widgets ",r("br",{}),"which help you edit just a part of the layout. Click on the ",r(c,{children:"Modes"})," icon"]}),TurnOnTheBlocksMode:g(d,{children:["Turn on the ",r(c,{children:"Blocks"})," mode"]}),HoverBetweenBlocks:r(d,{children:"Hover on space between blocks"}),SetBlocksDistance:r(d,{children:"Change the distance: type 80 here"}),DeselectAfterSetBlocksDistance:r(d,{children:"Click on empty area"}),DisableBlocksAndGrid:g(d,{children:["Disable ",r(c,{children:"Blocks"})," by pressing B key, and ",r(c,{children:"Guides"}),"\u2014by pressing H key"]}),OpenMobileLayout:r(d,{children:"Take a look at the Mobile layout"}),SwitchToMobileLayout:r(d,{children:"Switch to the Mobile layout"}),DeleteNavBar:g(d,{children:["Let's change the menu to a burger one. Delete the navigation bar with logo\u2014the layer",r("br",{}),"will disappear for mobile and stay at desktop as Readymag's desktop-first"]}),MobileMenuInLayers:g(d,{children:["Find the first group that corresponds to the Mobile menu in ",r(c,{children:"Layers"})]}),MobileMenuVisible:g(d,{children:["Make it visible by clicking on the layer and pressing ",r(c,{children:"Eye"})," icon"]}),BeforeAddAnimations:g(d,{children:["Let\u2019s add animation to your menu. Select ",r("br",{}),r(c,{children:"Background"})," and ",r(c,{children:"Menu layers"})," in the group ",r("br",{}),"by holding down Shift"]}),AddAnimations:g(d,{children:["Choose ",r(c,{children:"Tap"})," animation"]}),AddTapAnimations:g(d,{children:["Choose ",r(c,{children:"Tap"})," animation"]}),AddTapMoveAnimations:g(d,{children:["Add ",r(c,{children:"Move"})," animation to these layers"]}),SetAnimationValue:g(d,{children:["Set the left value to -328. It will let the background ",r("br",{}),"paired with the menu occupy the entire screen"]}),SetAnimationTrigger:r(d,{children:"Set your burger menu icon as a trigger for this animation"}),FixMenuClickOutside:g(d,{children:["Let's fix the menu so that it stays in place when the page's scrolled. ",r("br",{}),"Click on empty area and then select your mobile menu again."]}),PositionControlClick:g(d,{children:["Click on ",r(c,{children:"Position"})," control"]}),PositionTopRight:r(d,{children:"Choose the top right corner circle to fix the widget to this part of the screen"}),PositionTogglesOn:g(d,{children:["Enable ",r(c,{children:"On All Pages"})," and ",r(c,{children:"Above Pages"})," for the widget group so that it stays ",r("br",{}),"accessible on every page and above the rest of the elements"]}),CheckPreview:r(d,{children:"Check the preview"}),ViewerSettings:g(d,{children:["Let's go to ",r(c,{children:"Viewer settings"})," and take a look at the desktop layout. Your menu is intact here"]}),SwitchToDesktop:r(d,{children:"Switch to Desktop"}),UseCustomCursor:g(d,{children:["Let\u2019s add a custom cursor. Enable ",r(c,{children:"Use custom cursor"})," toggle"]}),PointerCursorUpload:g(d,{children:["You can upload your default and pointer cursors here. ",r("br",{}),"Click on empty space to finish working on the project"]}),GoBackToEditor:g(d,{children:["Let's return to the Editing mode where ",r("br",{}),"you'll continue mastering Readymag"]})},wt={OpenLayersPanel:{name:"OpenLayersPanel",text:w.OpenLayersPanel,num:1,nextStep:"OpenBackgroundLayer"},OpenBackgroundLayer:{name:"OpenBackgroundLayer",text:w.OpenBackgroundLayer,num:2,prevStep:"OpenLayersPanel",nextStep:"ClickOnPaletteIcon",fallbackText:B.OpenBackgroundLayer},ClickOnPaletteIcon:{name:"ClickOnPaletteIcon",text:w.ClickOnPaletteIcon,num:3,prevStep:"OpenBackgroundLayer",nextStep:"SelectGrids",fallbackText:B.ClickOnPaletteIcon},SelectGrids:{name:"SelectGrids",text:w.SelectGrids,num:4,prevStep:"ClickOnPaletteIcon",nextStep:"ChangeGrids"},ChangeGrids:{name:"ChangeGrids",text:w.ChangeGrids,num:5,prevStep:"SelectGrids",nextStep:"ClickOnSnapButton",fallbackText:B.ChangeGrids},ClickOnSnapButton:{name:"ClickOnSnapButton",text:w.ClickOnSnapButton,num:6,prevStep:"SelectGrids",nextStep:"ClickOnSizesButton",fallbackText:B.ClickOnSnapButton},ClickOnSizesButton:{name:"ClickOnSizesButton",text:w.ClickOnSizesButton,num:7,prevStep:"ClickOnSnapButton",nextStep:"ArrangeWidgetsInTheGrid",fallbackText:B.ClickOnSizesButton},ArrangeWidgetsInTheGrid:{name:"ArrangeWidgetsInTheGrid",text:w.ArrangeWidgetsInTheGrid,num:8,prevStep:"ClickOnSizesButton",nextStep:"ClickOnModesIcon"},ClickOnModesIcon:{name:"ClickOnModesIcon",text:w.ClickOnModesIcon,num:9,prevStep:"ArrangeWidgetsInTheGrid",nextStep:"TurnOnTheBlocksMode"},TurnOnTheBlocksMode:{name:"TurnOnTheBlocksMode",text:w.TurnOnTheBlocksMode,num:10,prevStep:"ClickOnModesIcon",nextStep:"HoverBetweenBlocks",fallbackText:B.TurnOnTheBlocksMode},HoverBetweenBlocks:{name:"HoverBetweenBlocks",text:w.HoverBetweenBlocks,num:11,prevStep:"TurnOnTheBlocksMode",nextStep:"SetBlocksDistance"},SetBlocksDistance:{name:"SetBlocksDistance",text:w.SetBlocksDistance,num:12,prevStep:"HoverBetweenBlocks",nextStep:"DeselectAfterSetBlocksDistance"},DeselectAfterSetBlocksDistance:{name:"DeselectAfterSetBlocksDistance",text:w.DeselectAfterSetBlocksDistance,num:13,prevStep:"SetBlocksDistance",nextStep:"DisableBlocksAndGrid"},DisableBlocksAndGrid:{name:"DisableBlocksAndGrid",text:w.DisableBlocksAndGrid,num:14,prevStep:"SetBlocksDistance",nextStep:"OpenMobileLayout"},OpenMobileLayout:{name:"OpenMobileLayout",text:w.OpenMobileLayout,num:15,prevStep:"DisableBlocksAndGrid",nextStep:"SwitchToMobileLayout"},SwitchToMobileLayout:{name:"SwitchToMobileLayout",text:w.SwitchToMobileLayout,num:16,prevStep:"OpenMobileLayout",nextStep:"DeleteNavBar",fallbackText:B.SwitchToMobileLayout},DeleteNavBar:{name:"DeleteNavBar",text:w.DeleteNavBar,num:17,prevStep:"SwitchToMobileLayout",nextStep:"MobileMenuInLayers"},MobileMenuInLayers:{name:"MobileMenuInLayers",text:w.MobileMenuInLayers,num:18,prevStep:"DeleteNavBar",nextStep:"MobileMenuVisible",fallbackText:B.MobileMenuVisible},MobileMenuVisible:{name:"MobileMenuVisible",text:w.MobileMenuVisible,num:19,prevStep:"MobileMenuInLayers",nextStep:"BeforeAddAnimations",fallbackText:B.MobileMenuVisible},BeforeAddAnimations:{name:"BeforeAddAnimations",text:w.BeforeAddAnimations,num:20,prevStep:"MobileMenuVisible",nextStep:"AddAnimations",fallbackText:B.BeforeAddAnimations},AddAnimations:{name:"AddAnimations",text:w.AddAnimations,num:21,prevStep:"BeforeAddAnimations",nextStep:"AddTapAnimations",fallbackText:B.AddAnimations},AddTapAnimations:{name:"AddTapAnimations",text:w.AddTapAnimations,num:22,prevStep:"AddAnimations",nextStep:"AddTapMoveAnimations",fallbackText:B.AddTapAnimations},AddTapMoveAnimations:{name:"AddTapMoveAnimations",text:w.AddTapMoveAnimations,num:23,prevStep:"AddTapAnimations",nextStep:"SetAnimationValue",fallbackText:B.AddTapMoveAnimations},SetAnimationValue:{name:"SetAnimationValue",text:w.SetAnimationValue,num:24,prevStep:"AddTapAnimations",nextStep:"SetAnimationTrigger",fallbackText:B.SetAnimationValue},SetAnimationTrigger:{name:"SetAnimationTrigger",text:w.SetAnimationTrigger,num:25,prevStep:"SetAnimationValue",nextStep:"FixMenuClickOutside",fallbackText:B.SetAnimationTrigger},FixMenuClickOutside:{name:"FixMenuClickOutside",text:w.FixMenuClickOutside,num:26,prevStep:"SetAnimationTrigger",nextStep:"PositionControlClick"},PositionControlClick:{name:"PositionControlClick",text:w.PositionControlClick,num:27,prevStep:"FixMenuClickOutside",nextStep:"PositionTopRight",fallbackText:B.PositionControlClick},PositionTopRight:{name:"PositionTopRight",text:w.PositionTopRight,num:28,prevStep:"PositionControlClick",nextStep:"PositionTogglesOn",fallbackText:B.PositionTopRight},PositionTogglesOn:{name:"PositionTogglesOn",text:w.PositionTogglesOn,num:29,prevStep:"PositionTopRight",nextStep:"CheckPreview",fallbackText:B.PositionTogglesOn},CheckPreview:{name:"CheckPreview",text:w.CheckPreview,num:30,prevStep:"PositionTogglesOn",nextStep:"ViewerSettings"},ViewerSettings:{name:"ViewerSettings",text:w.ViewerSettings,num:31,prevStep:"CheckPreview",nextStep:"SwitchToDesktop"},SwitchToDesktop:{name:"SwitchToDesktop",text:w.SwitchToDesktop,num:32,prevStep:"ViewerSettings",nextStep:"UseCustomCursor",fallbackText:B.SwitchToDesktop},UseCustomCursor:{name:"UseCustomCursor",text:w.UseCustomCursor,num:33,prevStep:"SwitchToDesktop",nextStep:"PointerCursorUpload",fallbackText:B.UseCustomCursor},PointerCursorUpload:{name:"PointerCursorUpload",text:w.PointerCursorUpload,num:34,prevStep:"UseCustomCursor",nextStep:"GoBackToEditor",fallbackText:B.PointerCursorUpload},GoBackToEditor:{name:"GoBackToEditor",text:w.GoBackToEditor,num:35,prevStep:"PointerCursorUpload"}}});var Ct,Wt=U(()=>{"use strict";re();Ct={GettingStartedVideo:{name:"GettingStartedVideo",text:"Getting started",num:1,nextStep:"HelpButton"},HelpButton:{name:"HelpButton",text:"Click here for more learning content",num:2}}});var we,vt=U(()=>{"use strict";re();yt();kt();Wt();we={default:xt,pro:wt,templates:Ct}});var Mt,At=U(()=>{"use strict";ne();Mt=()=>{M.post("/api/mailchimp/help-tour-not-finished")}});var Ot,qe,xn,It,yn,wn,J,Mr,Ar,Z,Bt,Or,Ir,kn,Cn,Br,Er,Ur,Dr,ce,Et=U(()=>{"use strict";dt();Ve();be();vt();re();At();Je();hn();Ot={tourType:"default",modalStatus:"unshow",started:!1,waiting:!1,showNotice:!1,step:null,totalSteps:0,config:{}},qe=new Set,xn=()=>{let e=window.RM.constructorRouter?.me,t=e?.get("behavior_metrics")||{};if(!t||!e)return;let i={...t,constructor_tour_finished:!0};e.save({behavior_metrics:i},{patch:!0})},It=(e,t)=>t?Array.isArray(e)?e.includes(t.name):t.name===e:!1,[yn,wn,J,Mr]=Se(Ot),Ar=()=>yn({hookType:"layout"}),Z=e=>{wn(e),O.trigger("helptour:update",e)},Bt=e=>{let t=J();Z({...t,modalStatus:e})},Or=(e="default",t={headlessMode:!1})=>{if(J().started)return;let m=Object.values(we[e]),T=m[0];if(Z({tourType:e,modalStatus:"unshow",started:!0,waiting:!1,showNotice:!1,step:T,totalSteps:m.length,config:t}),t.headlessMode)return;let u=e==="pro"?"helpTourPro":"helpTour";G(u,{status:"started"})},Ir=()=>{let{started:e}=J();e&&Bt("closing")},kn=()=>{let{started:e,step:t,totalSteps:i,tourType:p,config:m}=J();if(!e||!t){setTimeout(()=>{window.RM.constructorRouter.trigger("notice:triggerMetrics","helpTourSkipped")},1e3);return}qe.clear(),Z({...Ot,tourType:p}),!m.headlessMode&&t?.num<i&&Mt()},Cn=e=>{let{step:t,tourType:i,config:p}=J();if(kn(),p.headlessMode||Bt("end"),e?.(),xn(),p.headlessMode)return;let m=i==="pro"?"helpTourProProgress":"helpTourProgress",T=i==="pro"?"helpTourPro":"helpTour";G(m,{step:t?.num}),G(T,{status:"finished"})},Br=(e,t)=>{let i=J(),{step:p,started:m,tourType:T,totalSteps:u,config:b}=i;if(!m)return;if(!p?.nextStep){Cn(t?.cb);return}let A=(Array.isArray(e)?e:[e]).includes(p.name),N=t?.fallback;if(!A||N&&!p.fallbackStep)return;let R=N&&p.fallbackStep?p.fallbackStep:p.nextStep,h=we[T][R];h&&(Z({...i,waiting:!1,showNotice:!1,step:h}),!b.headlessMode&&pt(()=>{for(let x=1;x<=u&&!(x>p.num);x++)if(x<=p.num&&!qe.has(x)){let E=T==="pro"?"helpTourProProgress":"helpTourProgress";G(E,{step:x}),qe.add(x)}}))},Er=e=>{let t=J(),{step:i,started:p,tourType:m}=t;if(!p||!i?.prevStep||!(Array.isArray(e)?e:[e]).includes(i.name))return;let b=we[m][i.prevStep];b&&Z({...t,waiting:!1,showNotice:!1,step:b})},Ur=e=>{let t=J(),{step:i,started:p}=t;!p||!It(e,i)||Z({...t,waiting:!0})},Dr=(e,t)=>{let i=J(),{step:p,started:m,showNotice:T}=i;!m||!It(e,p)||Z({...i,showNotice:t.show??!T})},ce=()=>J().started});var ke,Wn,vn,Ut=U(()=>{"use strict";ke=(e,t,i,p)=>{let m=i.findIndex(W=>W.num===e),T=m>=0?i[m]:null,u=e+1,b=null;if(T&&T.children&&T.children.length)if(p[T._id]&&p[T._id].collapsed)b=T._id;else{let W=i[m+1];W?u=W.num:u=T.children[T.children.length-1].num+1}if(!T){let W=t.find(A=>A.num===e);W&&(b=W.parentPage)}return{newPageNum:u,newPageParentId:b}},Wn=(e,t=void 0)=>e.map(i=>i.children?{id:i._id,parentId:t,items:Wn(i.children,i._id)}:{id:i._id,parentId:t}),vn=e=>e.reduce((t,i)=>(t.push(i),i.items?t.concat(vn(i.items)):t),[])});var F,Dt=U(()=>{"use strict";F=class{constructor({message:t,tag:i,type:p}){fe(this,"message");fe(this,"type");fe(this,"tag");this.message=t,this.tag=i,this.type=p||"error"}}});var Nt,_t,Gr,Lt=U(()=>{"use strict";ne();Nt=e=>M.get(`/api/user/${e}/links`),_t=e=>M.get(`/api/user/${e}/projects-domains`),Gr=(e,t)=>M.post("/api/checkdomain",{type:e,domain:t})});var jr,zr,Rt,$r,Ht=U(()=>{"use strict";ne();jr=()=>M.get("/api/user_templates/"),zr=async e=>{let{data:t}=await M.get(`/api/help-tour-template/${e}`);return t||{}},Rt=e=>M.delete("/api/template/",{id:e}),$r=(e,t)=>M.put("/api/template/",{id:e,name:t})});async function Yr(){return await M.get("/api/domain-reseller")}var Gt,Ft,Vt,Kr,jt=U(()=>{"use strict";ne();Gt=({numId:e,domainName:t,domainSource:i})=>M.post("/api/checkdomain",{num_id:e,domain:t,source:i}),Ft=(e,t)=>M.post(`/api/mag/domain/${e}`,{domain:t,status:"on"}),Vt=e=>M.post(`/api/mag/domain/${e}`,{status:"off"}),Kr=e=>M.post("/api/domain/visit",{domain:e})});var Zr,ei,ti,oi,zt,$t,qt=U(()=>{"use strict";ne();Zr=async({email:e,projectNumIds:t,folderIds:i,sharesAll:p,role:m,folderRoles:T,projectRoles:u})=>{let b=await M.post("/api/team",{email:e,mags:t,folders:i,sharesAll:p,role:m,folderRoles:T,projectRoles:u});if(!b.teamMember)throw b.error||b;return b.teamMember},ei=async({email:e,projectNumIds:t,folderIds:i,sharesAll:p,role:m,folderRoles:T,projectRoles:u})=>{let b=await M.put("/api/team",{email:e,mags:t,folders:i,sharesAll:p,role:m,folderRoles:T,projectRoles:u});if(!b.teamMember)throw b.error||b;return b.teamMember},ti=e=>M.delete("/api/team",{email:e}),oi=e=>M.post("/api/team/invite",{email:e}),zt=()=>M.get("/api/team"),$t=(e,t={isPending:!1})=>{let i=new URLSearchParams(t);return M.get(`/api/project/${e}/team${i.toString()?"?"+i:""}`)}});function Oi({project:e,router:t,inPreview:i,children:p}){let m=(0,a.useCallback)(o=>{let n={...o.attributes};return delete n.children,n},[]),[T,u]=(0,a.useState)(()=>{let o=e.pages.models.map(s=>m(s));o.sort((s,l)=>s.num-l.num);let n=We(o,null);return{project:e.attributes,owner:e.user.attributes,isOwner:!!t.isOwner,inPreview:!!i,pages:o,trashPages:[],pageRecentlyDeleted:!1,userTemplates:[],currentPageNum:t.getCurrentPageNum(),currentPageId:t.getCurrentPageId(),pagesTree:n,pagesParams:Ce(n,{}),codeInjectUpgradeAlertShown:!1,publishInProgress:!1,unpublishInProgress:!1,isPublishError:!1,selectedPages:[],lockedPages:{},collaborators:[],team:[],allProjects:[],teamworkProjects:[],ownedProjectTeam:[],projectTeam:[],me:t.me.attributes}}),{pages:b,pagesTree:W,pagesParams:A,project:{user:N,opts:R,num_id:h,domain:x},currentPageId:E,currentPageNum:_,publishInProgress:v,unpublishInProgress:I,isOwner:L,me:$}=T,ee=(0,a.useCallback)(o=>{let n=t.pageOrder.get("order"),s=null;if(o>n.length)s=n[n.length-1].id;else{let l=n.find(P=>P.num===o);l&&(s=l.id)}s?t.showWorkspace({id:s}):t.showWorkspace({num:1})},[t]),te=(0,a.useCallback)((o,n)=>{let s=n.findIndex(l=>l._id===o.get("_id"));if(s>=0){let l=[...n];return l[s]&&(l[s]=m(o)),l}return n},[m]),K=(0,a.useRef)(void 0),oe=(0,a.useCallback)((o,n={})=>{K.current&&(K.current.hide(),K.current.remove()),K.current=new lt({$parent:document.querySelector("body > .popups"),router:t,opts:{type:"type-more-pages",is_contributor:!t.isOwner,owner_email:N?N.email:"",...n},alert_source:o}),K.current.render()},[N,t]),tt=(0,a.useCallback)(()=>{u(o=>({...o,pageRecentlyDeleted:!1}))},[]),Me=(0,a.useRef)(void 0),ot=(0,a.useCallback)(()=>{u(o=>({...o,pageRecentlyDeleted:!0})),Me.current&&clearTimeout(Me.current),Me.current=setTimeout(()=>{tt()},4500)},[tt]),ie=(0,a.useCallback)((o,n)=>e.set(o,n),[e]),me=(0,a.useCallback)((o,n)=>e.unset(o,n),[e]),mo=(0,a.useCallback)((o,n)=>e.save(o,n),[e]),To=(0,a.useCallback)((o,n,s)=>{let l=e.pages.get(o);if(!l)throw new Error("Element not found");return l.set(n,s)},[e]),ho=(0,a.useCallback)((o,n,s)=>{let l=e.pages.get(o);if(!l)throw new Error("Element not found");return l.unset(n,s)},[e]),Ae=(0,a.useCallback)((o,n,s)=>{let l=e.pages.get(o);if(!l)throw new Error("Page not found");return l.save(n,{...s||{},patch:!0})},[e]),Po=(0,a.useCallback)(o=>{u(n=>({...n,currentPageNum:o}))},[]),nt=(0,a.useCallback)(o=>{u(n=>({...n,inPreview:o}))},[]),fo=(0,a.useCallback)((o,n)=>{u(s=>({...s,pagesParams:{...s.pagesParams,[o]:{...s.pagesParams[o],collapsed:n}}}))},[]),se=(0,a.useCallback)(async o=>{await e.pages.find(s=>s.attributes._id===o).updateScreenshots(e.get("num_id"))},[e]),bo=(0,a.useCallback)((o,n,s)=>new Promise((l,P)=>{let{newPageNum:f,newPageParentId:y}=ke(o,b,W,A),k=t.workspace.page.get("order")?.default,H={num:f};n&&(H={...H,...n}),e.addPage(H,V=>{if(V&&V.err)P(V);else{let j=V;n?window.RM.constructorRouter.trigger("notice:triggerMetrics","templateUsed"):j.isEmptyPage=!0,j.get("num")===2&&setTimeout(()=>{window.RM.constructorRouter.trigger("notice:triggerEduTip","eduTipUseNavigation",{standAlone:!0})},0),j.set("parentPage",y),t.pageOrder.reorderPagesAfterAdd({page:j,magId:e.get("_id")}),e.onAdd(j),n&&(j.from_template=!0,j.hasGlobalWidgets()&&(e.addGlobalWidgetsFromTemplate(j),e.pages.map(ae=>ae.attributes._id).filter(ae=>ae!==j.id).forEach(ae=>se(ae)))),s||t.showWorkspace({id:j.id}),l(j)}},!0,k)}),[t,e,b,W,A,se]),So=(0,a.useCallback)(o=>new Promise((n,s)=>{let l=e.getPage(o);if(!l)return s(new Error("Could not find page"));l.get("mid")||l.save({mid:e.get("_id")},{patch:!0,silent:!0});let{newPageNum:P,newPageParentId:f}=ke(l.get("num"),b,W,A);l.duplicate(y=>{if(y instanceof Error)return y.message==="Server error: permission_denied"&&(Te()?t.trigger("notice:show","unpauseSubscriptionToCreatePage",{canBeClosed:!0}):oe("duplicate page",{type:"type-more-pages"})),s(y);let S=y;S.set("parentPage",f),t.pageOrder.reorderPagesAfterAdd({page:S,magId:e.get("_id")}),e.onAdd(S),t.gg.guides?.model&&(t.gg.guides.model.addPage(S.id,{silent:t.gg.guides.hidden}),t.gg.guides.model.save()),t.showWorkspace({id:S.id}),n(y)},{num:P})}),[t,e,b,W,A,oe]),xo=(0,a.useCallback)(async()=>{let o=t._pageChanged;o&&typeof o=="string"&&(t._pageChanged=!1,await se(o))},[t,se]),yo=(0,a.useCallback)(o=>new Promise((n,s)=>{t.pageOrder.saveInProgress()||(t.pageOrder.save({order:o,mid:t.mag.id},{success:()=>{e.trigger("change:pids",e,e.get("pids")),n()},error:s}),e.trigger("change:pids",e,e.get("pids")))}),[t,e]),wo=(0,a.useCallback)(o=>new Promise((n,s)=>{if(t.isPageLocked(o))return s(new Error("This page is locked"));if(e.get("pids").length===1)return s(new Error("Can't delete last page"));let l=A[o],P=[];if(l&&l.children.length){let S=l.children;l.collapsed?t.pageOrder.removeParentIds(S):P=[...S]}if(P.push(o),!e.checkDeletingPages(P))return s(new Error("Can't delete all pages"));let f=P.includes(E),y=_;t.pageOrder.deletePagesFromOrder(P,e.get("_id")).then(()=>{e.deletePages(P,S=>{S instanceof Error?(t.pageOrder.load(e),s(S)):S&&S.deleteNotEmptyPages&&ot(),f?ee(y):t.triggerPageChange(),P.forEach(k=>t.removeWorkspace(k)),n({deleted:P})})},(S,k)=>{s(new Error(k))})}),[t,e,A,E,_,ot,ee]),ko=(0,a.useCallback)(o=>new Promise((n,s)=>{e.restorePage(o,{success:l=>{let P=t.workspace.getPageNum();if(!P)throw"Unable to get current page number";let{newPageNum:f,newPageParentId:y}=ke(P,b,W,A);l.set("num",f),l.set("parentPage",y),t.pageOrder.reorderPagesAfterAdd({page:l,magId:e.get("_id")}),e.onAdd(l),e.save(),t.showWorkspace({id:l.id}),n(l)},error:l=>{let P=JSON.parse(l.responseText);P.err==="permission_denied"&&oe("restore page",{type:"type-more-pages"}),s(P)}},!0)}),[t,e,b,W,A,oe]),Co=(0,a.useCallback)(o=>e.deleteTrashPages(o),[e]),Wo=(0,a.useCallback)(()=>new Promise(o=>{e.get("has_deleted_pages")?e.fetchTrashPages().then(n=>{n&&u(s=>({...s,trashPages:n})),o(n)}):o([])}),[e]),vo=(0,a.useCallback)(()=>e.emptyTrash().then(()=>{u(o=>({...o,trashPages:[]}))}),[e]),Mo=(0,a.useCallback)(()=>e.loadUserTemplates().then(o=>(Array.isArray(o)&&u(n=>({...n,userTemplates:o})),o)),[e]),Ao=(0,a.useCallback)(()=>e.hasGlobalWidgets(),[e]),Oo=(0,a.useCallback)((o={})=>t.createTemplateFromCurrentPage(o).then(n=>(n&&u(s=>{let l=Array.from(s.userTemplates);return l.unshift(n),{...s,userTemplates:l}}),n)).catch(n=>{throw n&&n.message==="permission denied"&&oe("create user template",{type:"type-more-pages"}),n}),[t,oe]),Io=(0,a.useCallback)(o=>Rt(o).then(()=>{u(n=>({...n,userTemplates:n.userTemplates.filter(s=>s.id!==o)}))}),[]),Bo=(0,a.useCallback)((o,n)=>{let s={hyphen:"The link should not start or end with a hyphen",onlyNumbers:"The link should not consist of digits only",uriLength:"The link should be less than 128 characters long",used:"You already have a page with this link",pageNotFound:"Can't find current page"},l=e.getPage(o);if(l){let P=l.validate({uri:n,parentPage:l.get("parentPage")});return P?s[Object.keys(P)[0]]:void 0}else return s.pageNotFound},[e]),Oe=(0,a.useCallback)(async()=>{let o=e.getUsedFonts({includeCustom:!0,excludeUnusedDefault:!0}),n=gt.sortFontsByProvider(o);return Pt(e.id,n,!0)},[e]),Eo=(0,a.useCallback)(async(o={})=>{let n=e.get("user").permissions||{},s=ut(de.environment.preview,e.getAllWidgets()),l=$?.plan?.level,P;l==="personal"||l==="freelancer"?P="Please upgrade account to publish another project. Check out the pricing to learn more.":P="Please upgrade your plan to publish more than one project.";let f="Injected Code, Forms, Lottie and Shots will not work in Published project.";if(n.can_publish){if(s&&!n.can_use_e_commerce)throw new F({message:"Please upgrade your account to publish project with ecommerce.",tag:"type-publish-ecommerce"});if(e.hasCodeInjection()&&!t.me?.get("permissions")?.can_inject_code&&!o.skipWarnings)throw new F({message:f,tag:"type-code-injection",type:"warning"});if(e.hasWidgetsWithType("shots")&&!t.me?.get("permissions")?.can_use_shots&&!o.skipWarnings)throw new F({message:f,tag:"type-widget-shots",type:"warning"});if(e.hasWidgetsWithType("lottie")&&!t.me?.get("permissions")?.can_use_lottie&&!o.skipWarnings)throw new F({message:f,tag:"type-widget-lottie",type:"warning"});if(e.hasWidgetsWithType("form")&&!t.me?.get("permissions")?.can_use_forms&&!o.skipWarnings)throw new F({message:f,tag:"type-widget-shots",type:"warning"})}else{let y=n._reasons||{},S=y.can_publish&&y.can_publish.code;throw new F({message:Te()?"You can't publish another project. Your subscription has been paused":S==="reason_publish_limit"?P:"Please verify your email address to publish this project.",tag:Te()?"type-publish-paused-subcription":S==="reason_publish_limit"?"type-publish-limit":"type-publish-noemail"})}if(!v){u(y=>(G(X.Publish,{firstTime:!e.get("is_published"),zone:`editor ${y.inPreview?"preview":"project settings"}`}),{...y,publishInProgress:!0})),o.alsoExport&&N.permissions.can_export_template&&t.exportMagAsTemplateset(o.dontRenewScreenshots);try{await Oe();let y=e.get("num_id"),S=await mt(y);e.set({...e.parse(S),changed:!1}),u(k=>({...k,publishInProgress:!1}))}catch{u(S=>({...S,publishInProgress:!1,isPublishError:!0})),await new Promise(S=>setTimeout(S,5e3)),u(S=>({...S,isPublishError:!1}))}}},[t,e,$,N,v,Oe]),Uo=(0,a.useCallback)(async()=>{I||(u(o=>({...o,unpublishInProgress:!0})),await ht(e.get("num_id")),G("unpublish",{zone:"editor project settings"}),e.set({is_published:null,published:null,updated:null}),u(o=>({...o,unpublishInProgress:!1})))},[e,I]),Do=(0,a.useCallback)(async()=>{await Tt(e.get("num_id")),window.location.reload()},[e]),Q=(0,a.useCallback)(o=>t.me&&t.me.get("permissions")[o],[t]),Te=(0,a.useCallback)(()=>t.me?.get("permissions")?._reasons?.limited_usage?.code==="reason_subscription_paused",[t]),No=(0,a.useCallback)(()=>{if(!Q("can_export_pdf"))throw new F({message:g(xe,{children:["Please upgrade your account",r("br",{}),"to export the project to PDF.",r("br",{}),r("a",{href:`${de.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"})]}),tag:"type-export-pdf"})},[Q]),_o=(0,a.useCallback)(()=>{if(!Q("can_export_code"))throw new F({message:g(xe,{children:["Please upgrade your account",r("br",{}),"in order to export the source",r("br",{}),"code of your projects.",r("br",{}),r("a",{href:`${de.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"}),"."]}),tag:"type-export-code"})},[Q]),Lo=(0,a.useCallback)(()=>{if(!Q("can_use_iframe"))throw new F({message:g(xe,{children:["Please upgrade your account",r("br",{}),"in order to use iframe",r("br",{}),"for your projects.",r("br",{}),r("a",{href:`${de.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"}),"."]}),tag:"type-iframe-code"})},[Q]),Ro=(0,a.useCallback)(()=>{t.openCodeEditor()},[t]),Ho=(0,a.useCallback)(()=>["ci_head","ci_css","ci_body_top","ci_body_bottom"].some(o=>!!T.project[o]),[T.project]),Go=(0,a.useCallback)(()=>e.hasCodeInjection(),[e]),Fo=(0,a.useCallback)(()=>e.hasWidgetsWithType("shots"),[e]),Vo=(0,a.useCallback)(()=>e.hasWidgetsWithType("form"),[e]),jo=(0,a.useCallback)(o=>{u(n=>{let s=n.lastSelectedPage&&n.selectedPages.includes(n.lastSelectedPage)?n.lastSelectedPage:t.getCurrentPageId();if(s){let l=n.pagesTree.reduce((k,H)=>(k.push(H),H.children?[...k,...H.children]:k),[]),P=l.findIndex(k=>k._id===o),f=l.findIndex(k=>k._id===s),y=l.slice(Math.min(P,f),Math.max(P,f)+1).map(k=>k._id).filter(k=>!n.selectedPages.includes(k)),S=[...n.selectedPages,...y];return{...n,selectedPages:S,lastSelectedPage:o}}return{...n,lastSelectedPage:o}})},[t]),zo=(0,a.useCallback)(o=>{u(n=>{let s=[...n.selectedPages];return s.includes(o)?s.splice(s.indexOf(o),1):s.push(o),{...n,selectedPages:s,lastSelectedPage:o}})},[]),$o=(0,a.useCallback)(()=>{u(o=>({...o,selectedPages:[]}))},[]),qo=(0,a.useCallback)(()=>{if(!L)return;let o=t.getCurrentPageId(),n=e.pages.find(s=>s.attributes._id===o);t.unlockPage(n)},[t,e,L]),Jo=(0,a.useCallback)(()=>{t.updateUrl(),t.triggerPageChange()},[t]),Ko=(0,a.useCallback)(o=>{t.getCurrentPageId()!==o.id&&t.showWorkspace(o)},[t]),Ie=(0,a.useCallback)(async o=>{let[n,s]=await Promise.all([zt(),$t(o,{})]),{mags:l}=await M.get("/api/readymags/user"),P=n.filter(f=>f.projectNumIds.includes(o));return P.length&&window.RM.constructorRouter.trigger("notice:triggerEduTip","eduTipUseComments"),{team:n,allProjects:l,teamworkProjects:l.filter(f=>f.num_id===o),ownedProjectTeam:P,projectTeam:s}},[]),Yo=(0,a.useCallback)((o,n)=>{u(s=>({...s,team:o,ownedProjectTeam:o.filter(l=>l.projectNumIds.includes(n))}))},[]),Qo=(0,a.useCallback)(o=>{let n=o||(t.me?t.me.get("_id"):"");return Nt(n)},[t]),Xo=(0,a.useCallback)(o=>{let n=o||(t.me?t.me.get("_id"):"");return _t(n)},[t]),Zo=(0,a.useCallback)(o=>ft({...o,numId:o.numId?o.numId:e.get("num_id")}).then(()=>{let{isPrivate:n,isPrivatePages:s,password:l}=o;e.set({is_private:n,isPrivatePages:s,pass:l!==void 0?l:e.get("pass")})}),[e]),en=(0,a.useCallback)(({pageId:o,isPrivate:n,updateAll:s=!1})=>{let l=(f,y,S)=>f.map(k=>((s||k._id===y)&&(k.isPrivate=S),k)),P=s?T.pages.map(f=>f._id):[o];for(let f of P)if(typeof f<"u"){let y=Ae(f,{isPrivate:n},{patch:!0});y.done(()=>{y&&!(y instanceof Error)&&u(S=>{let k=l(S.pages,f,n),H=S.pagesTree.map(V=>({...V,isPrivate:s||V._id===f?n:V.isPrivate,children:V.children?l(V.children,f,n):V.children}));return{...S,pages:k,pagesTree:H,pagesParams:Ce(H,S.pagesParams)}})})}},[Ae,T,u]),tn=(0,a.useCallback)(o=>{let n=N.permissions.viewer_opts_overrides||{},l={...e.get("opts"),...o==="phone_portrait"?e.get("viewport_phone_portrait")?.opts||{}:o==="tablet_portrait"?e.get("viewport_tablet_portrait")?.opts||{}:{},...n};return{...l,...e.get("is_private")&&{sharebutton:!1},...!l.menubutton&&{projectinfo:!1}}},[e,N]),he=(0,a.useCallback)((o,n,s)=>{let l=Ke.default.intersection(Object.keys(o),at).length>0,P=s==="phone_portrait"||s==="tablet_portrait",f=l&&P?s:"default",y=Object.keys(o)[0],S={...o,...o.menubutton===!1&&{projectinfo:!1}};if(["arrows","menubutton","projectinfo","sharebutton","pagecounter","controlsontop","controlsontop","branding","slidein","scalableviewer"].includes(y)&&y==="scalableviewer"&&G(X.SettingsViewer,{settingsType:"scale layout"}),f==="phone_portrait"||f==="tablet_portrait"){let k=`viewport_${f}`,H={...e.get(k)?.opts||{},...S};return e.set(k,{...e.get(k)||{},opts:H},n),Jt(e.get("num_id"),H,f)}else{let k={...e.get("opts"),...S};return e.set("opts",k,n),Jt(e.get("num_id"),k,f)}},[e,R]),on=(0,a.useCallback)((o,n)=>Gt({numId:h,domainName:o,domainSource:n}).then(s=>(ie({last_checked_domain:o,last_checked_domain_source:n},{silent:!0}),s)),[h,ie]),nn=(0,a.useCallback)(o=>Ft(h,o).then(()=>{ie({domain:o,domainStatus:"on"})}),[h,ie]),rn=(0,a.useCallback)(()=>Vt(h).then(o=>(me("domain"),me("domainStatus"),G(X.SettingsProject,{settingsType:"unmap domain"}),o)),[e,x,h,R,me,he]),Be=(0,a.useCallback)((o,n)=>{o&&u(s=>{let l=o.pages.models.map(f=>m(f)).filter(f=>n.includes(f._id));l.sort((f,y)=>f.num-y.num);let P=We(l,null);return{...s,project:o.attributes,pages:l,pagesTree:P,pagesParams:Ce(P,s.pagesParams)}})},[m]),Ee=(0,a.useCallback)(o=>{o&&u(n=>({...n,project:o.attributes}))},[]),Ue=(0,a.useCallback)((o,n,s)=>{o&&(o.changed&&!s?.socketUpdate&&(o.changed.num||o.changed.parentPage)||u(l=>{let P=te(o,l.pages);P.sort((y,S)=>y.num-S.num);let f=We(P,null);return{...l,pages:P,pagesTree:f,pagesParams:Ce(f,l.pagesParams)}}))},[te]),De=(0,a.useCallback)(o=>{o&&u(n=>{let s=Array.from(n.trashPages);return s.unshift(o.attributes),{...n,trashPages:s}})},[]),Ne=(0,a.useCallback)(o=>{o&&u(n=>{let s=Array.from(n.trashPages),l=s.findIndex(P=>P._id===o.get("_id"));return l>-1&&s.splice(l,1),{...n,trashPages:s}})},[]);(0,a.useEffect)(()=>{function o(){Ie(e.attributes.num_id).then(n=>{u(s=>({...s,...n}))})}return o(),e.on(Kt(),Ee),e.on("change:pids",Be),e.pages.on(Yt(),Ue),e.trashPages.on("add",De),e.trashPages.on("remove",Ne),O.on("refreshTeamworkData",o),()=>{e.off(Kt(),Ee),e.off("change:pids",Be),e.pages.off(Yt(),Ue),e.trashPages.off("add",De),e.trashPages.off("remove",Ne),O.off("refreshTeamworkData",o)}},[e,Ee,Be,De,Ne,Ue,Ie]);let _e=(0,a.useCallback)(o=>nt(o),[]);(0,a.useEffect)(()=>(t.on("togglePreview",_e),()=>{t.off("togglePreview",_e)}),[t,_e]);let Le=(0,a.useCallback)(o=>{let n=o.getPageNum(),s=o.getPageId();n&&s&&u(l=>({...l,currentPageNum:n,currentPageId:s}))},[]);(0,a.useEffect)(()=>(t.on("pageChange",Le),()=>{t.off("pageChange",Le)}),[t,Le]);let Pe=(0,a.useCallback)(o=>{u(n=>({...n,currentPageNum:o.num,currentPageId:o._id}))},[]);(0,a.useEffect)(()=>(T.inPreview?t.on("previewPageChange",Pe):t.off("previewPageChange",Pe),()=>{t.off("previewPageChange",Pe)}),[T.inPreview,t,Pe]);let Re=(0,a.useCallback)((o,n)=>{u(s=>({...s,lockedPages:{...s.lockedPages,[o]:n}}))},[]),He=(0,a.useCallback)(o=>{u(n=>{let{[o]:s,...l}=n.lockedPages;return{...n,lockedPages:l}})},[]),Ge=(0,a.useCallback)(({list:o})=>{u(n=>({...n,collaborators:o||[]}))},[]);(0,a.useEffect)(()=>(O.on("page:locked",Re),O.on("page:unlocked",He),O.on("sockets:connect",Ge),()=>{O.off("page:locked",Re),O.off("page:unlocked",He),O.off("sockets:connect",Ge)}),[Re,He,Ge]),(0,a.useEffect)(()=>{R.branding===void 0&&he({branding:R.endpage})},[R,he]);let sn=(0,a.useCallback)(o=>{let n=T.project.user.permissions.viewer_opts_overrides||{};return{disabled:[...Object.keys(n),...o?.menubutton?[]:["projectinfo"],...T.project.is_private?["sharebutton"]:[],...T.project.user.permissions.must_show_branding?["branding"]:[]],permissionOverrides:n}},[T.project]),an=(0,a.useCallback)(async(o,n)=>{await St(o,n),u(s=>({...s,project:{...s.project,allow_iframe_embed:o==="allow"}}))},[]),ln={projectSet:ie,projectUnset:me,projectSave:mo,pageSet:To,pageUnset:ho,pageSave:Ae,setCurrentPageNum:Po,setInPreview:nt,setPageCollapse:fo,addNewPage:bo,duplicatePage:So,renewLastScreenshot:xo,updatePageScreenshot:se,restorePage:ko,saveOrder:yo,deletePage:wo,deletePagesFromTrash:Co,updateTrash:Wo,emptyTrash:vo,getUserTemplates:Mo,hasGlobalWidgets:Ao,createTemplateFromCurrentPage:Oo,deleteUserTemplate:Io,validatePageUri:Bo,updateUsedFonts:Oe,publishWithNotice:Eo,unpublish:Uo,restoreToPublished:Do,checkPDFExportPermission:No,checkHTMLExportPermission:_o,checkIFrameExportPermission:Lo,openCodeEditor:Ro,hasProjectCode:Ho,hasCustomCode:Go,hasShots:Fo,hasForms:Vo,hasPermission:Q,isSubscriptionPaused:Te,selectPage:zo,selectPagesRange:jo,deselectPages:$o,takeOverCurrentPage:qo,updateUrl:Jo,changeWorkspace:Ko,loadTeamworkData:Ie,updateTeam:Yo,getProjectOptions:tn,setProjectOptions:he,loadUserProjectsLinks:Qo,getDomainsAmount:Xo,setPrivacy:Zo,setPageIsPrivate:en,checkDomain:on,mapDomain:nn,unmapDomain:rn,getProjectPermissionsOverrides:sn,toggleAllowIframeEmbed:an};return r(Qt.Provider,{value:{...T,...ln,projectMag:e},children:p})}var a,Ke,Qt,Jt,We,Ce,Kt,Yt,Ii,Xt=U(()=>{"use strict";a=le(Fe());Ve();Ke=le(rt());Ut();ne();mn();Pn();fn();pn();be();cn();Dt();un();bn();Lt();Ht();jt();qt();ct();Je();q();Qt=(0,a.createContext)({}),Jt=Ke.default.throttle(bt,300),We=(e,t)=>{let i=[];for(let p in e)if(e[p].parentPage===t){let m=We(e,e[p]._id),T=Object.assign({},e[p]);m.length&&(T.children=m),i.push(T)}else if(e[p].parentPage===void 0){let m=Object.assign({},e[p]);i.push(m)}return i},Ce=(e,t)=>{let i={};return e.forEach((p,m)=>{if(i[p._id]={collapsed:t[p._id]?t[p._id].collapsed:!0,viewNum:m+1,uri:p.uri?p.uri:(m+1).toString(),children:[]},p.children){let T=[];p.children.forEach((u,b)=>{T.push(u._id),i[u._id]={collapsed:t[u._id]?t[u._id].collapsed:!0,viewNum:b+1,uri:u.uri?u.uri:(b+1).toString(),children:[],parentId:p._id}}),i[p._id].children=T}}),i},Kt=()=>["title","description","user","folder","uri","domain","domainStatus","last_checked_domain","has_deleted_pages","master_share_pid","changed","is_published","is_private","isPrivatePages","pass","pass_bg","published","opts","viewport_phone_portrait","viewport_tablet_portrait"].map(t=>`change:${t}`).join(" "),Yt=()=>["num","parentPage","screenshot","viewport_phone_portrait","viewport_tablet_portrait","title","uri","seo","hidden","custom_shares"].map(t=>`change:${t}`).join(" ");Ii=()=>(0,a.useContext)(Qt)});var Ye=U(()=>{"use strict"});function zi({magModel:e,router:t,children:i}){let[p,m]=(0,D.useReducer)(In,{router:t,magModel:e},An),T=(0,D.useCallback)(({pageNumber:h,scrollTop:x}={})=>{let E=t.workspace?.page.get("num");window.RM.constructorRouter.togglePreview({pageNumber:h??E,scrollTop:x}),p.inPreview||window.RM.constructorRouter.trigger("notice:triggerEduTipClose")},[t]);(0,D.useEffect)(()=>{let h=()=>{m({type:"togglePreview"})};return window.RM.constructorRouter.unbindGlobalKeyPress("p",T),window.RM.constructorRouter.bindGlobalKeyPress({key:"p",handler:T}),p.inPreview?(window.RM.constructorRouter.off("previewOpen",h),window.RM.constructorRouter.on("previewClose",h)):(window.RM.constructorRouter.off("previewClose",h),window.RM.constructorRouter.on("previewOpen",h)),()=>{window.RM.constructorRouter.unbindGlobalKeyPress("p",T),window.RM.constructorRouter.off("previewOpen",h),window.RM.constructorRouter.off("previewClose",h)}},[p.inPreview]),(0,D.useEffect)(()=>{localStorage.setItem(Zt,JSON.stringify({gridSize:p.gridSize}))},[p.gridSize]);let u=(0,D.useCallback)(()=>{m({type:"openMagMenu"})},[]),b=(0,D.useCallback)(()=>{m({type:"closeMagMenu"})},[]),W=(0,D.useCallback)((h,x)=>{x.viewertype!==p.magMenuOrientation&&m({type:"setMagMenuOrientation",orientation:x.viewertype}),x.menubutton!==p.magMenuOn&&m({type:"setMagMenu",isOn:x.menubutton}),x.controlsontop!==p.controlsOnTop&&m({type:"setControlsOnTop",onTop:x.controlsontop})},[p.magMenuOrientation,p.magMenuOn,p.controlsOnTop]);(0,D.useEffect)(()=>(O.on("magMenu:open",u),O.on("magMenu:close",b),()=>{O.off("magMenu:open",u),O.off("magMenu:close",b)}),[u,b]),(0,D.useEffect)(()=>(O.listenTo(e,"change:opts",W),()=>{O.stopListening(e,"change:opts",W)}),[W]);let A=(0,D.useCallback)(()=>{m({type:"setReadyToPublish",ready:!0})},[]);(0,D.useEffect)(()=>(O.listenTo(t,"previewMag:load:success",A),()=>{O.stopListening(t,"previewMag:load:success",A)}),[A]);let N=()=>{m({type:"toggleCartSidebarState"})};(0,D.useEffect)(()=>(O.on("ecommerce:cartsidebar:visibility:changed",N),()=>{O.off("ecommerce:cartsidebar:visibility:changed",N)}),[N]);let R=(h,x)=>new Promise((E,_)=>{let v=e.getPage(h);v||E(null),v.save({hidden:x}).done(I=>{E(I)}).fail(I=>{_(I.responseJSON)})});return r(ve.Provider,{value:{...p,dispatch:m,setPageVisibility:R,togglePreview:T},children:i})}var D,ve,Zt,eo,An,On,In,$i,to=U(()=>{"use strict";D=le(Fe());Ye();be();q();ve=(0,D.createContext)({}),Zt="rm_pageSettings",eo={};try{let e=localStorage.getItem(Zt);eo=JSON.parse(e||"{}")}catch{}An=({router:e,magModel:t})=>({inPreview:!!e.previewMode,isMagMenuOpen:!1,isTrashOpened:!1,isPageSettingsOpened:!1,isPrivatePagesOpened:!1,isHelpPopupOpened:!1,isUserTemplatesModalShown:!1,isRmTemplatesModalShown:!1,isPageActionsPopupOpenedFor:!1,gridSize:eo.gridSize||0,selectedPages:{},isDragging:!1,magMenuOrientation:t.attributes.opts.viewertype,magMenuOn:t.attributes.opts.menubutton,controlsOnTop:t.attributes.opts.controlsontop,readyToPublish:!0,addingPage:!1,isTeamworkModalOpened:!1,exportAsTemlate:!1,dontRenewScreenshots:!1,currentOnboardingType:e.currentOnboardingType,helpTourIsFinished:!!e.helpTourIsFinished,isCartSidebarOpened:!1,showTips:!!e.me?.attributes.constructor_show_tips,masterSharePidIsChanging:!1}),On=(e,t)=>{let i={...e.selectedPages};return i[t]?delete i[t]:i[t]=!0,i},In=(e,t)=>{switch(t.type){case"togglePreview":{let i=!e.inPreview;return{...e,inPreview:i,readyToPublish:i?!1:e.readyToPublish,notice:void 0}}case"openMagMenu":return{...e,isMagMenuOpen:!0};case"closeMagMenu":return{...e,isMagMenuOpen:!1};case"setMagMenuOrientation":return{...e,magMenuOrientation:t.orientation};case"setMagMenu":return{...e,magMenuOn:t.isOn};case"setControlsOnTop":return{...e,controlsOnTop:t.onTop};case"toggleTrash":return{...e,isTrashOpened:!e.isTrashOpened};case"togglePageSettings":return{...e,isPageSettingsOpened:!e.isPageSettingsOpened,isHelpPanelOpen:!1};case"togglePrivatePages":return{...e,isPrivatePagesOpened:t.payload?!0:!e.isPrivatePagesOpened,privatePageSelected:t.payload};case"toggleHelpPopup":return{...e,isHelpPopupOpened:!e.isHelpPopupOpened};case"toggleHelpTourIsFinished":return{...e,helpTourIsFinished:t.finished};case"toggleUserTemplatesModal":return{...e,isUserTemplatesModalShown:!e.isUserTemplatesModalShown};case"toggleRmTemplatesModal":return{...e,isRmTemplatesModalShown:!e.isRmTemplatesModalShown};case"setPageActionsPopup":return{...e,isPageActionsPopupOpenedFor:t.payload};case"toggleGridSize":return{...e,gridSize:e.gridSize===0?1:0};case"togglePageSelection":return{...e,selectedPages:On(e,t.payload)};case"setDragging":return{...e,isDragging:t.payload};case"setReadyToPublish":return{...e,readyToPublish:t.ready};case"setAddingPage":return{...e,addingPage:t.inProgress};case"toggleTeamworkModal":return{...e,isTeamworkModalOpened:t.payload};case"toggleExportAsTemlate":return{...e,exportAsTemlate:!e.exportAsTemlate};case"toggleDontRenewScreenshots":return{...e,dontRenewScreenshots:!e.dontRenewScreenshots};case"setOnboardingType":return{...e,currentOnboardingType:t.onboardingType};case"toggleCartSidebarState":return{...e,isCartSidebarOpened:!e.isCartSidebarOpened};case"toggleShowTips":return{...e,showTips:!e.showTips};case"toggleMasterSharePidChanging":return{...e,masterSharePidIsChanging:!e.masterSharePidIsChanging};default:return e}};$i=()=>(0,D.useContext)(ve)});var oo=U(()=>{"use strict";Xt();to();Ye()});function cs(){let e=lo(),t=(0,ue.useContext)(ve);(0,ue.useEffect)(()=>{typeof window<"u"&&window.RM&&Y({...e,router:window.RM.constructorRouter,isSmartTip:no})},[]);let[{router:i,isSmartTip:p}]=Vn(),m=(h,x,E)=>{let _=E?.me;if(!_)return;let v=_.get("edu_tips_state")||{};if(v[h]=x,Ln({tipsState:v,router:E})){let I=et();Ze(I),go(v),x===2&&Dn(_,{edu_tips_state:v,behavior_metrics:I})}},T=(h,x={})=>{ce()||(x.closeByTimer&&(delete x.closeByTimer,setTimeout(()=>{Y(e.visible?{...e,visible:!1}:e)},ro)),Y({...e,...x,message:h,needShowHelpIcon:!1,visible:!0,isTipType:!1}))},u=h=>{Y({...e,message:h})},b=()=>{let h=lo();h.message&&(m(h.message,3,i),Y({...h,visible:!1}))},W=(h,x={})=>{if(ce()||!i||!i.me||!t.showTips||p&&!so(h)||!p&&so(h)||!Xe())return;let _=(i.me.get("edu_tips_state")||{})[h]||0;if(x.closeByTimer)delete x.closeByTimer,ao(),pe=setTimeout(b,ro);else if(p){ao(),pe=setTimeout(b,En);let v=Nn(h);v&&m(v,3,i)}switch(_){case 3:break;case 2:if(x.showOnce)break;Y({...e,visible:!0,message:h,canBeClosed:!0,needShowHelpIcon:!0,isTipType:!0,standAlone:x.standAlone});break;case 0:{if(m(h,2,i),O.trigger("tips:show",h),p){let v=Gn(h);v&&G(X.EditorTips2,{tip:v,action:"impression"})}else{let v=Hn(h);v&&G(X.EditorTips,{tip:v})}_n(),A(),Y({...e,visible:!0,message:h,canBeClosed:!0,needShowHelpIcon:!0,isTipType:!0,standAlone:x.standAlone})}}},A=()=>{e.visible&&Y({...e,visible:!1})},N=(h,x)=>{if(ce()||!i||!i.me||!i.me.get("constructor_show_tips")||!t.showTips||!Xe())return;let E=Rn(h,x,i),_=i.me.get("edu_tips_state")||{},v=(I,L)=>{if(!I||!L)return!1;if(typeof L!="function"&&"orConditions"in L&&Array.isArray(L.orConditions))return L.orConditions.some($=>v(I,$));if(typeof L!="function"&&!(L instanceof Array)){for(let $ in L)if(L.hasOwnProperty($)){let ee=L,te=I?.[$],K=ee[$];if(typeof K=="number"&&typeof te=="number"){if(K>te)return!1}else if(K!==te)return!1}return!0}return!1};for(let I in Qe)if(Qe.hasOwnProperty(I)&&!_[I]){let L=Qe[I],$=typeof L=="function"?L(E):v(E,L),ee=Un.includes(I);$&&W(I,{showOnce:!0,standAlone:ee})}},R=({id:h,color:x})=>{if(ce()||!p||!i||!i.me||!no||!Xe())return;let E=i.me.get("behavior_metrics")||{},_=E.triggeredColors||{},v=Array.isArray(x)?x[0]:x;if(h in _)_[h]=v;else{for(let I of Object.values(_))I===v&&W("eduTipUseColorPalette");_[h]=v,E.triggeredColors=_,i.me.save({behavior_metrics:E},{patch:!0})}};return(0,ue.useEffect)(()=>{if(i)return i.on("notice:show",T),i.on("notice:hide",A),i.on("notice:triggerEduTip",W),i.on("notice:triggerEduTipClose",b),i.on("notice:triggerMetrics",N),i.on("notice:triggerColorMetrics",R),()=>{i.off("notice:show",T),i.off("notice:hide",A),i.off("notice:triggerEduTip",W),i.off("notice:triggerEduTipClose",b),i.off("notice:triggerMetrics",N),i.off("notice:triggerColorMetrics",R)}},[i,e]),{showNotice:T,setNoticeMessage:u,triggerEduTip:W,triggerEduTipClose:b,hideNotice:A,triggerMetrics:N,triggerColorMetrics:R}}var ge,ue,Bn,no,Qe,ro,En,pe,ls,Un,io,Dn,ds,Nn,Xe,_n,co,po,Ze,et,go,uo,Ln,Rn,Hn,Gn,so,Fn,ao,Vn,Y,lo,Je=U(()=>{"use strict";ge=le(rt()),ue=le(Fe());Ve();dt();be();ct();Et();oo();gn();dn();Bn=5,no=st("constructor.smartTips"),Qe={eduTipUseViewportsIcon:{viewportIconHovered:!0},eduTipOnDeleteMobileWidget:{widgetDeletedOnMobile:!0},eduTipUseBundleDragTriangle:{bundleDragHovered:!0},eduTipUseShortcutToChangeSizes:{widgetSlightlyResized:!0},eduTipUseShortcutToMoveText:{countTextWidgetCreated:9},eduTipUseShortcutToCopyAnimation:{countAnimatedWidgetCreated:2},eduTipUseShortcutToEnableGuides:{orConditions:[{countWidgetCreated:3},{countTextWidgetCreated:3}],guidesTurnOn:void 0},eduTipUseShortcutToEnableSizes:{widgetResized:!0,sizesToolTurnOn:void 0},eduTipUseFix:{countWidgetCreated:11,fixedWidgetUsed:void 0},eduTipUseAbovePages:{countFixedWidgetCreated:3,onAllPagesWidgetUsed:void 0},eduTipUsePlusIcon:{helpTourSkipped:!0},eduTipUseWidgetSettings:{helpTourSkipped:!0,countWidgetCreated:1},eduTipUseBlocks:{secondWidgetMoved:!0},eduTipUseUndo:{widgetMoved:!0,countActionsCanceled:void 0},eduTipUseTextTypographyControl:{templateUsed:void 0,countTextWidgetCreated:5},eduTipUseTextEditControl:{templateUsed:void 0,textWidgetCopied:!0},eduTipUseArrangeControl:{mobileGroupSelected:!0},eduTipUseGroupEditing:{multipleWidgetsOfSameTypeSelected:!0},eduTipUseGrids:{templateUsed:void 0,orConditions:[{countWidgetCreated:3},{gridsShortcutPressed:!0}]},eduTipUseAnimation:{animationPanelOpened:!0},eduTipUseLearn:{countActionsCanceled:3},eduTipUsePresets:{countWidgetPanelOpened:5},eduTipUseHideWidget:{opacityAnimationAdded:!0},eduTipNewTemplate:{newProjectAfterTemplatesOnboarding:!0}},ro=6e3,En=15e3,pe=null,ls=["eduTipUseWidgetSettings","eduTipUseColorPalette","eduTipUseArrangeControl","eduTipUseTextEditControl","eduTipUseTextTypographyControl","eduTipUseGroupEditing"],Un=["eduTipUseOnboarding","eduTipUseNavigation","eduTipDragGroup","eduTipOnDeleteMobileWidget","eduTipUseFix","eduTipUseLearn","eduTipUseUndo"],io=[["eduTipUseTextEditControl","eduTipUseTextTypographyControl"]],Dn=it((e,t)=>{e.save(t,{patch:!0,silent:!0})},3e3,{trailing:!0}),ds=e=>{let t=e?.me;if(!t)return;let i=t.get("behavior_metrics")||{},p=et(),m={...i,...p},T=t.get("edu_tips_state")||{},u=uo(),b={...T,...u},W=!ge.default.isEqual(p,m),A=!ge.default.isEqual(u,b);W&&Ze(m),A&&go(b)},Nn=e=>{for(let t=0;t<io.length;t++){let i=io[t];if(i.includes(e))return i.find(p=>p!==e)}return!1},Xe=()=>parseInt(sessionStorage.getItem("shownTipsCount")||"0",10)<Bn,_n=()=>{let e=parseInt(sessionStorage.getItem("shownTipsCount")||"0",10);sessionStorage.setItem("shownTipsCount",(e+1).toString())},co=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},po=e=>{let t=localStorage.getItem(e);return t?JSON.parse(t):{}},Ze=e=>{co("userMetrics",e)},et=()=>po("userMetrics"),go=e=>{co("eduTipsState",e)},uo=()=>po("eduTipsState"),Ln=({tipsState:e,metrics:t,router:i})=>{let p=i?.me;if(!p)return!1;let m=e||p.get("edu_tips_state")||{},T=t||p.get("behavior_metrics")||{},u=uo(),b=et(),W=!ge.default.isEqual(u,m),A=!ge.default.isEqual(b,T);return W||A},Rn=(e,t,i)=>{let p=i?.me;if(!p)return{};let m=p.get("behavior_metrics")||{},T=e.includes("count"),u=m[e];return T&&t===void 0?m[e]=typeof u=="number"?u+1:1:m[e]=t===void 0?!0:t,Ze(m),m},Hn=e=>{switch(e){case"eduTipUseCommentsMode":return"comments for collaborators";case"eduTipUseShortcutToEnableGuides":return"guides shortcut";default:return!1}},Gn=e=>{switch(e){case"eduTipUsePlusIcon":return"plus icon";case"eduTipUseWidgetSettings":return"widget settings";case"eduTipUseBlocks":return"distance between blocks";case"eduTipUseNavigation":return"horizontal vertical navigation";case"eduTipUseColorPalette":return"palette";case"eduTipUseTextTypographyControl":return"text styles";case"eduTipUseTextEditControl":return"text styles";case"eduTipUseOnboarding":return"beginners onboarding kit";case"eduTipUseArrangeControl":return"arrange";case"eduTipUseUndo":return"undo";case"eduTipUseBlueDiamond":return"blue diamond";case"eduTipUseGrids":return"use grids";case"eduTipUseAnimation":return"animate widgets";case"eduTipOnDeleteMobileWidget":return"widget still exists in desktop";case"eduTipDragGroup":return"triangle icon";case"eduTipUseFix":return"fix any widget";case"eduTipUseAbovePages":return"above pages toggle";case"eduTipUseCodePanel":return"code";case"eduTipUseComments":return"comments";case"eduTipUseLearn":return"link to learn";case"eduTipUseGroupEditing":return"group edit";case"eduTipUseHideWidget":return"hide a widget";case"eduTipUsePresets":return"presets";case"eduTipNewTemplate":return"templates in pages panel";default:return!1}},so=e=>!!Object.values(ze).includes(e),Fn={message:"",visible:!1,canBeClosed:!0,needShowHelpIcon:!1,isTipType:!1,router:null},ao=()=>{pe!==null&&(clearTimeout(pe),pe=null)},[Vn,Y,lo]=Se(Fn)});export{d as a,c as b,$e as c,vt as d,Wn as e,vn as f,Ut as g,F as h,Dt as i,Gr as j,Lt as k,jr as l,zr as m,$r as n,Ht as o,Kr as p,Yr as q,jt as r,Zr as s,ei as t,ti as u,oi as v,qt as w,Qt as x,Oi as y,Ii as z,ve as A,zi as B,$i as C,oo as D,ls as E,ds as F,Gn as G,Vn as H,lo as I,cs as J,Je as K,J as L,Ar as M,Bt as N,Or as O,Ir as P,kn as Q,Br as R,Er as S,Ur as T,Dr as U,ce as V,Et as W};
